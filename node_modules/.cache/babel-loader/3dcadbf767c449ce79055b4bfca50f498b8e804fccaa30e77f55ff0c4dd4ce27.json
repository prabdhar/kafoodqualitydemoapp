{"ast":null,"code":"import _objectSpread from\"/Users/prabdhar/CascadeProjects/windsurf-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{BarChart3,PieChart,TrendingUp,Download,Calendar,Filter,FileText,Users,DollarSign,Image,X,ChevronLeft,ChevronRight}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Reports=()=>{const[reportType,setReportType]=useState('overview');const[dateRange,setDateRange]=useState('monthly');const[selectedScheme,setSelectedScheme]=useState('all');const[selectedSchool,setSelectedSchool]=useState('all');const[selectedInspection,setSelectedInspection]=useState('all');const[selectedPhoto,setSelectedPhoto]=useState(null);const reportTypes=[{id:'overview',name:'Overview Report',icon:BarChart3},{id:'gallery',name:'Photo Gallery',icon:Image},{id:'financial',name:'Financial Report',icon:DollarSign},{id:'beneficiary',name:'Beneficiary Report',icon:Users},{id:'audit',name:'Audit Report',icon:FileText}];const schemes=['All Schemes','Pre-Matric Scholarship','Post-Matric Scholarship','Skill Development Program','Self Employment Scheme'];// Available schools for filtering\nconst schools=['All Schools','Government High School Bangalore North','Government Primary School Mysore','Government Higher Secondary School Hubli','Government Primary School Mangalore'];// Available inspections for filtering\nconst inspections=['All Inspections','Routine Inspections','Complaint-based Inspections','Follow-up Inspections','Surprise Inspections'];// Sample data for category distribution\nconst categoryDistribution=[{category:'Food Quality',percentage:75},{category:'Hygiene',percentage:85},{category:'Safety Standards',percentage:90},{category:'Documentation',percentage:65},{category:'Staff Training',percentage:70}];// Sample food inspection reports data\nconst foodInspectionReports=[{id:1,location:\"Government Primary School, Bangalore North\",date:\"2024-01-15\",inspector:\"Dr. Priya Sharma\",rating:\"A+\",photos:[{url:\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBDbGVhbiBLaXRjaGVuIEltYWdlIC0tPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjBGOEZGIi8+CiAgPCEtLSBLaXRjaGVuIENvdW50ZXIgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjE0MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI0Q2RUFGOCIgcng9IjUiLz4KICA8IS0tIENvb2tpbmcgUG90cyAtLT4KICA8Y2lyY2xlIGN4PSI4MCIgY3k9IjEyMCIgcj0iMjAiIGZpbGw9IiM2Mzc1RjQiLz4KICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIxMjAiIHI9IjE4IiBmaWxsPSIjNDMzOENBIi8+CiAgPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTIwIiByPSIyMiIgZmlsbD0iIzM3MzBBMyIvPgogIDwhLS0gVmVnZXRhYmxlcyAtLT4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjgwIiByPSI4IiBmaWxsPSIjMTBCOTgxIi8+CiAgPGNpcmNsZSBjeD0iNzAiIGN5PSI3MCIgcj0iNiIgZmlsbD0iI0Y1OTcxNiIvPgogIDxjaXJjbGUgY3g9IjkwIiBjeT0iNzUiIHI9IjciIGZpbGw9IiNEQzI2MjYiLz4KICA8IS0tIFRpdGxlIC0tPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsZWFuIEtpdGNoZW48L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzM3NEY2OCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj5IeWdpZW5pYyBGb29kIFByZXBhcmF0aW9uPC90ZXh0Pgo8L3N2Zz4=\",caption:\"Clean kitchen with proper utensils\"},{url:\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBGcmVzaCBGb29kIEltYWdlIC0tPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRkVGN0VEIi8+CiAgPCEtLSBQbGF0ZSAtLT4KICA8ZWxsaXBzZSBjeD0iMTUwIiBjeT0iMTMwIiByeD0iODAiIHJ5PSI0MCIgZmlsbD0iI0ZGRkZGRiIgc3Ryb2tlPSIjRDFEOEUwIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8IS0tIFJpY2UgLS0+CiAgPGVsbGlwc2UgY3g9IjEyMCIgY3k9IjEyMCIgcng9IjI1IiByeT0iMTUiIGZpbGw9IiNGRkZGRkYiLz4KICA8IS0tIERhbCAtLT4KICA8ZWxsaXBzZSBjeD0iMTgwIiBjeT0iMTIwIiByeD0iMjAiIHJ5PSIxMiIgZmlsbD0iI0Y1OTcxNiIvPgogIDwhLS0gVmVnZXRhYmxlcyAtLT4KICA8ZWxsaXBzZSBjeD0iMTUwIiBjeT0iMTQwIiByeD0iMTUiIHJ5PSIxMCIgZmlsbD0iIzEwQjk4MSIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkZyZXNoIE1lYWw8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzM3NEY2OCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj5OdXRyaXRpb3VzIEJhbGFuY2VkIERpZXQ8L3RleHQ+Cjwvc3ZnPg==\",caption:\"Nutritious balanced meal served\"}],findings:[\"Excellent hygiene standards\",\"Fresh ingredients used\",\"Proper food storage\"],violations:[]},{id:2,location:\"Government High School, Mysore\",date:\"2024-01-18\",inspector:\"Mr. Rajesh Kumar\",rating:\"B+\",photos:[{url:\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBTdG9yYWdlIEFyZWEgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGRkY3RUQiLz4KICA8IS0tIFNoZWx2ZXMgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjYwIiB3aWR0aD0iMjYwIiBoZWlnaHQ9IjE1IiBmaWxsPSIjOEI1Q0Y2Ii8+CiAgPHJlY3QgeD0iMjAiIHk9IjEwMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSIxNSIgZmlsbD0iIzhCNUNGNiIvPgogIDxyZWN0IHg9IjIwIiB5PSIxNDAiIHdpZHRoPSIyNjAiIGhlaWdodD0iMTUiIGZpbGw9IiM4QjVDRjYiLz4KICA8IS0tIEZvb2QgQ29udGFpbmVycyAtLT4KICA8cmVjdCB4PSI0MCIgeT0iNDAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMCIgZmlsbD0iI0Y5FEFBMCJ+CiAgPHJlY3QgeD0iMTAwIiB5PSI0MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkJCRjI0Ii8+CiAgPHJlY3QgeD0iMTYwIiB5PSI0MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkE4MDcyIi8+CiAgPCEtLSBUaXRsZSAtLT4KICA8dGV4dCB4PSIxNTAiIHk9IjMwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMUYyQTM3IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJib2xkIj5Gb29kIFN0b3JhZ2U8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIxODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzNzRGNjgiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+T3JnYW5pemVkIFN0b3JhZ2UgQXJlYTwvdGV4dD4KPC9zdmc+\",caption:\"Well-organized food storage area\"},{url:\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBXYXNoaW5nIEFyZWEgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRkY2RkYiLz4KICA8IS0tIFNpbmsgLS0+CiAgPHJlY3QgeD0iNTAiIHk9IjEwMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSI2MCIgZmlsbD0iI0Q2RUFGOCIgcng9IjEwIi8+CiAgPCEtLSBXYXRlciBUYXAgLS0+CiAgPHJlY3QgeD0iMTQwIiB5PSI4MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjNjM3NUY0Ii8+CiAgPCEtLSBXYXRlciBEcm9wcyAtLT4KICA8Y2lyY2xlIGN4PSIxNDUiIGN5PSIxMjAiIHI9IjMiIGZpbGw9IiMwNkI2RDQiLz4KICA8Y2lyY2xlIGN4PSIxNTUiIGN5PSIxMjUiIHI9IjIiIGZpbGw9IiMwNkI2RDQiLz4KICA8IS0tIFNvYXAgLS0+CiAgPGNpcmNsZSBjeD0iMjIwIiBjeT0iMTIwIiByPSIxMCIgZmlsbD0iI0Y5FEFBMCJ+CiAgPHRleHQgeD0iMTUwIiB5PSIzMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFGMkEzNyIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCI+V2FzaGluZyBBcmVhPC90ZXh0PgogIDx0ZXh0IHg9IjE1MCIgeT0iMTgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzc0RjY4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPkNsZWFuIFdhc2hpbmcgRmFjaWxpdGllczwvdGV4dD4KPC9zdmc+\",caption:\"Clean washing facilities available\"}],findings:[\"Good storage practices\",\"Clean washing area\",\"Minor improvements needed\"],violations:[\"Expired items found in storage\"]},{id:3,location:\"Government School, Hubli\",date:\"2024-01-20\",inspector:\"Ms. Lakshmi Devi\",rating:\"C\",photos:[{url:\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBJc3N1ZXMgRm91bmQgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGRUY3RUQiLz4KICA8IS0tIERpcnR5IFN1cmZhY2UgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjE0MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI0ZCQkYyNCIgcng9IjUiLz4KICA8IS0tIFNwb3RzIC0tPgogIDxjaXJjbGUgY3g9IjgwIiBjeT0iMTIwIiByPSI4IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMTEwIiByPSI2IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTI1IiByPSI3IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPCEtLSBXYXJuaW5nIFNpZ24gLS0+CiAgPHBvbHlnb24gcG9pbnRzPSIxNTAsNTAgMTMwLDkwIDE3MCw5MCIgZmlsbD0iI0Y1OTcxNiIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iNzgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZm9udC13ZWlnaHQ9ImJvbGQiPiE8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIzMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFGMkEzNyIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCI+SHlnaWVuZSBJc3N1ZXM8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIxODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzNzRGNjgiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+SW1wcm92ZW1lbnRzIE5lZWRlZDwvdGV4dD4KPC9zdmc+\",caption:\"Hygiene issues identified\"},{url:\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBDbGVhbmluZyBTdXBwbGllcyAtLT4KICA8cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI0VGRjZGRiIvPgogIDwhLS0gQ2xlYW5pbmcgQm90dGxlcyAtLT4KICA8cmVjdCB4PSI2MCIgeT0iMTAwIiB3aWR0aD0iMjAiIGhlaWdodD0iNjAiIGZpbGw9IiMxMEI5ODEiIHJ4PSI1Ii8+CiAgPHJlY3QgeD0iMTAwIiB5PSI5MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjcwIiBmaWxsPSIjMDZCNkQ0IiByeD0iNSIvPgogIDxyZWN0IHg9IjE0MCIgeT0iMTA1IiB3aWR0aD0iMjAiIGhlaWdodD0iNTUiIGZpbGw9IiNGNTk3MTYiIHJ4PSI1Ii8+CiAgPCEtLSBDbGVhbmluZyBDbG90aCAtLT4KICA8ZWxsaXBzZSBjeD0iMjAwIiBjeT0iMTMwIiByeD0iMzAiIHJ5PSIyMCIgZmlsbD0iI0ZCQkYyNCIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsZWFuaW5nIFN1cHBsaWVzPC90ZXh0PgogIDx0ZXh0IHg9IjE1MCIgeT0iMTgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzc0RjY4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPkFkZXF1YXRlIFN1cHBsaWVzIEF2YWlsYWJsZTwvdGV4dD4KPC9zdmc+\",caption:\"Adequate cleaning supplies available\"}],findings:[\"Cleaning supplies available\",\"Staff training needed\"],violations:[\"Poor surface cleanliness\",\"Inadequate hand washing facilities\"]}];const getSeverityColor=severity=>{switch(severity){case'high':return'bg-red-100 text-red-800';case'medium':return'bg-yellow-100 text-yellow-800';case'low':return'bg-green-100 text-green-800';default:return'bg-gray-100 text-gray-800';}};const getFilteredInspections=()=>{let filtered=[...foodInspectionReports];// Filter by school\nif(selectedSchool!=='All Schools'){filtered=filtered.filter(report=>report.location===selectedSchool);}// Filter by inspection type\nif(selectedInspection!=='All Inspections'){const inspectionTypeMap={'Routine Inspections':'routine','Complaint-based Inspections':'complaint','Follow-up Inspections':'follow-up','Surprise Inspections':'surprise'};const inspectionType=inspectionTypeMap[selectedInspection];// For demo purposes, we'll filter based on rating as a proxy for inspection type\nif(inspectionType==='routine'){filtered=filtered.filter(report=>['A+','A','B+'].includes(report.rating));}else if(inspectionType==='complaint'){filtered=filtered.filter(report=>['C','D'].includes(report.rating));}}return filtered;};const generateReport=()=>{var _reportTypes$find;// Generate comprehensive report including food inspection data\nconst selectedReportType=(_reportTypes$find=reportTypes.find(r=>r.id===reportType))===null||_reportTypes$find===void 0?void 0:_reportTypes$find.name;const filteredInspections=getFilteredInspections();let reportData={type:selectedReportType,dateRange:dateRange,scheme:selectedScheme,school:selectedSchool,inspection:selectedInspection,generatedAt:new Date().toLocaleString(),summary:{totalInspections:filteredInspections.length,averageRating:calculateAverageRating(filteredInspections),totalViolations:getTotalViolations(filteredInspections),complianceRate:getComplianceRate(filteredInspections)},inspections:filteredInspections,metrics:overviewData};// Create downloadable report\nconst reportContent=generateReportContent(reportData);downloadReport(reportContent,\"\".concat(selectedReportType,\"_\").concat(selectedSchool,\"_\").concat(selectedInspection,\"_\").concat(new Date().toISOString().split('T')[0],\".txt\"));alert(\"\\u2705 \".concat(selectedReportType,\" generated successfully!\\nFiltered by: \").concat(selectedSchool,\" | \").concat(selectedInspection,\"\\nIncludes \").concat(filteredInspections.length,\" food inspections with photos and detailed findings.\"));};const calculateAverageRating=function(){let inspections=arguments.length>0&&arguments[0]!==undefined?arguments[0]:foodInspectionReports;const ratings={'A+':4,'A':3.5,'B+':3,'B':2.5,'C':2,'D':1};const totalScore=inspections.reduce((sum,report)=>sum+(ratings[report.rating]||0),0);return inspections.length>0?(totalScore/inspections.length).toFixed(1):'0.0';};const getTotalViolations=function(){let inspections=arguments.length>0&&arguments[0]!==undefined?arguments[0]:foodInspectionReports;return inspections.reduce((total,report)=>total+report.violations.length,0);};const getComplianceRate=function(){let inspections=arguments.length>0&&arguments[0]!==undefined?arguments[0]:foodInspectionReports;if(inspections.length===0)return'0.0';const compliantReports=inspections.filter(report=>report.violations.length===0).length;return(compliantReports/inspections.length*100).toFixed(1);};const generateReportContent=data=>{return\"\\nFOOD TRANSPARENCY PORTAL - INSPECTION REPORT\\n============================================\\nReport Type: \".concat(data.type,\"\\nDate Range: \").concat(data.dateRange,\"\\nScheme: \").concat(data.scheme,\"\\nGenerated: \").concat(data.generatedAt,\"\\n\\nEXECUTIVE SUMMARY\\n================\\nTotal Inspections: \").concat(data.summary.totalInspections,\"\\nAverage Rating: \").concat(data.summary.averageRating,\"/4.0\\nTotal Violations: \").concat(data.summary.totalViolations,\"\\nCompliance Rate: \").concat(data.summary.complianceRate,\"%\\n\\nDETAILED INSPECTION REPORTS\\n===========================\\n\").concat(data.inspections.map((report,index)=>\"\\n\".concat(index+1,\". \").concat(report.location,\"\\n   Date: \").concat(report.date,\"\\n   Inspector: \").concat(report.inspector,\"\\n   Rating: \").concat(report.rating,\"\\n   \\n   Key Findings:\\n   \").concat(report.findings.map(finding=>\"   \\u2022 \".concat(finding)).join('\\n'),\"\\n   \\n   Violations:\\n   \").concat(report.violations.length>0?report.violations.map(violation=>\"   \\u2022 \".concat(violation)).join('\\n'):'   • No violations found',\"\\n   \\n   Photos: \").concat(report.photos.length,\" inspection photos documented\\n   \").concat(report.photos.length>0?report.photos.map((photo,idx)=>\"   - Photo \".concat(idx+1,\": \").concat(photo.name||\"inspection_\".concat(idx+1,\".jpg\"))).join('\\n'):'   - No photos available',\"\\n\")).join('\\n'),\"\\n\\nRECOMMENDATIONS\\n===============\\n\\u2022 Continue monitoring schools with C ratings\\n\\u2022 Implement additional training for facilities with violations\\n\\u2022 Maintain excellent standards in A+ rated facilities\\n\\u2022 Regular follow-up inspections recommended\\n\\nReport generated by Food Transparency Portal - Social Welfare Department\\n    \");};const downloadReport=(content,filename)=>{const blob=new Blob([content],{type:'text/plain'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=filename;document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);};const exportReport=format=>{var _reportTypes$find2;const selectedReportType=(_reportTypes$find2=reportTypes.find(r=>r.id===reportType))===null||_reportTypes$find2===void 0?void 0:_reportTypes$find2.name;let reportData={type:selectedReportType,dateRange:dateRange,scheme:selectedScheme,generatedAt:new Date().toLocaleString(),summary:{totalInspections:foodInspectionReports.length,averageRating:calculateAverageRating(),totalViolations:getTotalViolations(),complianceRate:getComplianceRate()},inspections:foodInspectionReports,metrics:overviewData};if(format==='pdf'){generatePDFReport(reportData);}else if(format==='excel'){generateExcelReport(reportData);}else if(format==='csv'){generateCSVReport(reportData);}};const generatePDFReport=data=>{// Create HTML content for PDF\nconst htmlContent=\"\\n    <!DOCTYPE html>\\n    <html>\\n    <head>\\n        <meta charset=\\\"utf-8\\\">\\n        <title>Food Transparency Portal - Inspection Report</title>\\n        <style>\\n            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\\n            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }\\n            .logo { font-size: 24px; font-weight: bold; color: #2563eb; }\\n            .subtitle { color: #666; margin-top: 5px; }\\n            .section { margin-bottom: 30px; }\\n            .section-title { font-size: 18px; font-weight: bold; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }\\n            .summary-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0; }\\n            .summary-item { padding: 15px; background: #f8f9fa; border-radius: 5px; }\\n            .summary-label { font-weight: bold; color: #666; }\\n            .summary-value { font-size: 20px; font-weight: bold; color: #2563eb; }\\n            .inspection { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; page-break-inside: avoid; }\\n            .inspection-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\\n            .rating { padding: 5px 15px; border-radius: 20px; font-weight: bold; }\\n            .rating-a { background: #dcfce7; color: #166534; }\\n            .rating-b { background: #dbeafe; color: #1e40af; }\\n            .rating-c { background: #fef3c7; color: #92400e; }\\n            .findings { margin: 10px 0; }\\n            .finding-item { margin: 5px 0; padding-left: 20px; }\\n            .violation { color: #dc2626; }\\n            .photo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 10px; }\\n            .photo-item { border: 1px solid #ddd; border-radius: 5px; overflow: hidden; page-break-inside: avoid; }\\n            .photo-item img { width: 100%; height: 120px; object-fit: cover; display: block; }\\n            .photo-caption { padding: 8px; background: #f8f9fa; font-size: 12px; color: #666; text-align: center; }\\n            .footer { margin-top: 50px; text-align: center; color: #666; font-size: 12px; }\\n        </style>\\n    </head>\\n    <body>\\n        <div class=\\\"header\\\">\\n            <div class=\\\"logo\\\">\\uD83C\\uDFDB\\uFE0F Food Transparency Portal</div>\\n            <div class=\\\"subtitle\\\">Social Welfare Department - Karnataka Government</div>\\n            <div style=\\\"margin-top: 15px;\\\">\\n                <strong>\".concat(data.type,\"</strong> | \").concat(data.dateRange,\" | Generated: \").concat(data.generatedAt,\"\\n            </div>\\n        </div>\\n\\n        <div class=\\\"section\\\">\\n            <div class=\\\"section-title\\\">\\uD83D\\uDCCA Executive Summary</div>\\n            <div class=\\\"summary-grid\\\">\\n                <div class=\\\"summary-item\\\">\\n                    <div class=\\\"summary-label\\\">Total Inspections</div>\\n                    <div class=\\\"summary-value\\\">\").concat(data.summary.totalInspections,\"</div>\\n                </div>\\n                <div class=\\\"summary-item\\\">\\n                    <div class=\\\"summary-label\\\">Average Rating</div>\\n                    <div class=\\\"summary-value\\\">\").concat(data.summary.averageRating,\"/4.0</div>\\n                </div>\\n                <div class=\\\"summary-item\\\">\\n                    <div class=\\\"summary-label\\\">Total Violations</div>\\n                    <div class=\\\"summary-value\\\">\").concat(data.summary.totalViolations,\"</div>\\n                </div>\\n                <div class=\\\"summary-item\\\">\\n                    <div class=\\\"summary-label\\\">Compliance Rate</div>\\n                    <div class=\\\"summary-value\\\">\").concat(data.summary.complianceRate,\"%</div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"section\\\">\\n            <div class=\\\"section-title\\\">\\uD83C\\uDFEB Detailed Inspection Reports</div>\\n            \").concat(data.inspections.map((report,index)=>\"\\n                <div class=\\\"inspection\\\">\\n                    <div class=\\\"inspection-header\\\">\\n                        <div>\\n                            <h3>\".concat(report.location,\"</h3>\\n                            <p>Inspector: \").concat(report.inspector,\" | Date: \").concat(report.date,\"</p>\\n                        </div>\\n                        <div class=\\\"rating rating-\").concat(report.rating.toLowerCase().replace('+',''),\"\\\">\\n                            Rating: \").concat(report.rating,\"\\n                        </div>\\n                    </div>\\n                    \\n                    <div class=\\\"findings\\\">\\n                        <strong>\\uD83D\\uDCCB Key Findings:</strong>\\n                        \").concat(report.findings.map(finding=>\"<div class=\\\"finding-item\\\">\\u2022 \".concat(finding,\"</div>\")).join(''),\"\\n                    </div>\\n                    \\n                    <div class=\\\"findings\\\">\\n                        <strong>\\u26A0\\uFE0F Violations:</strong>\\n                        \").concat(report.violations.length>0?report.violations.map(violation=>\"<div class=\\\"finding-item violation\\\">\\u2022 \".concat(violation,\"</div>\")).join(''):'<div class=\"finding-item\">• No violations found ✅</div>',\"\\n                    </div>\\n                    \\n                    <div style=\\\"margin-top: 15px;\\\">\\n                        <strong>\\uD83D\\uDCF8 Inspection Photos (\").concat(report.photos.length,\"):</strong>\\n                        \").concat(report.photos.length>0?\"\\n                            <div class=\\\"photo-grid\\\">\\n                                \".concat(report.photos.map((photo,photoIndex)=>\"\\n                                    <div class=\\\"photo-item\\\">\\n                                        <img src=\\\"\".concat(photo.preview||photo.url||'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik04NSA2NUw5NSA3NUwxMTUgNTVMMTM1IDc1VjEwNUg2NVY3NUw4NSA2NVoiIGZpbGw9IiNEMUQ1REIiLz4KPGNpcmNsZSBjeD0iODAiIGN5PSI2MCIgcj0iNSIgZmlsbD0iI0QxRDVEQiIvPgo8L3N2Zz4K',\"\\\" \\n                                             alt=\\\"Inspection Photo \").concat(photoIndex+1,\"\\\">\\n                                        <div class=\\\"photo-caption\\\">\\n                                            Photo \").concat(photoIndex+1,\": \").concat(photo.name||\"inspection_\".concat(photoIndex+1,\".jpg\"),\"\\n                                            <br><small>\").concat(photo.size?(photo.size/1024).toFixed(1)+' KB':'',\"</small>\\n                                        </div>\\n                                    </div>\\n                                \")).join(''),\"\\n                            </div>\\n                        \"):'<div style=\"color: #666; font-style: italic; margin-top: 5px;\">No photos available for this inspection</div>',\"\\n                    </div>\\n                </div>\\n            \")).join(''),\"\\n        </div>\\n\\n        <div class=\\\"section\\\">\\n            <div class=\\\"section-title\\\">\\uD83D\\uDCA1 Recommendations</div>\\n            <div class=\\\"finding-item\\\">\\u2022 Continue monitoring schools with C ratings</div>\\n            <div class=\\\"finding-item\\\">\\u2022 Implement additional training for facilities with violations</div>\\n            <div class=\\\"finding-item\\\">\\u2022 Maintain excellent standards in A+ rated facilities</div>\\n            <div class=\\\"finding-item\\\">\\u2022 Schedule regular follow-up inspections as recommended</div>\\n            <div class=\\\"finding-item\\\">\\u2022 Ensure proper documentation and photo evidence for all inspections</div>\\n        </div>\\n\\n        <div class=\\\"footer\\\">\\n            Report generated by Food Transparency Portal - Social Welfare Department<br>\\n            Karnataka Government | \").concat(new Date().getFullYear(),\"\\n        </div>\\n    </body>\\n    </html>\\n    \");// Convert HTML to PDF using browser's print functionality\nconst printWindow=window.open('','_blank');printWindow.document.write(htmlContent);printWindow.document.close();// Wait for content to load then trigger print\nsetTimeout(()=>{printWindow.print();printWindow.close();},1000);alert(\"\\u2705 PDF report generated successfully!\\nUse your browser's print dialog to save as PDF.\\nIncludes \".concat(data.summary.totalInspections,\" food inspections with detailed findings.\"));};const generateExcelReport=data=>{// Create CSV content that can be opened in Excel\nlet csvContent=\"Food Transparency Portal - Inspection Report\\\\n\\\\n\";csvContent+=\"Report Type,\".concat(data.type,\"\\\\n\");csvContent+=\"Date Range,\".concat(data.dateRange,\"\\\\n\");csvContent+=\"Generated,\".concat(data.generatedAt,\"\\\\n\\\\n\");csvContent+=\"SUMMARY\\\\n\";csvContent+=\"Total Inspections,\".concat(data.summary.totalInspections,\"\\\\n\");csvContent+=\"Average Rating,\".concat(data.summary.averageRating,\"/4.0\\\\n\");csvContent+=\"Total Violations,\".concat(data.summary.totalViolations,\"\\\\n\");csvContent+=\"Compliance Rate,\".concat(data.summary.complianceRate,\"%\\\\n\\\\n\");csvContent+=\"DETAILED INSPECTIONS\\\\n\";csvContent+=\"Location,Date,Inspector,Rating,Findings,Violations,Photos\\\\n\";data.inspections.forEach(report=>{csvContent+=\"\\\"\".concat(report.location,\"\\\",\\\"\").concat(report.date,\"\\\",\\\"\").concat(report.inspector,\"\\\",\\\"\").concat(report.rating,\"\\\",\\\"\").concat(report.findings.join('; '),\"\\\",\\\"\").concat(report.violations.join('; ')||'None',\"\\\",\\\"\").concat(report.photos.length,\"\\\"\\\\n\");});const blob=new Blob([csvContent],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"\".concat(data.type,\"_\").concat(data.dateRange,\"_\").concat(new Date().toISOString().split('T')[0],\".csv\");document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);alert(\"\\u2705 Excel report downloaded successfully!\\nFile: \".concat(data.type,\"_\").concat(data.dateRange,\"_\").concat(new Date().toISOString().split('T')[0],\".csv\"));};const generateCSVReport=data=>{let csvContent=\"Location,Date,Inspector,Rating,Findings,Violations,Photos,Photo_Names\\n\";data.inspections.forEach(report=>{const findings=report.findings.join('; ');const violations=report.violations.join('; ')||'None';const photoNames=report.photos.map(photo=>photo.name||'unnamed').join('; ');csvContent+=\"\\\"\".concat(report.location,\"\\\",\\\"\").concat(report.date,\"\\\",\\\"\").concat(report.inspector,\"\\\",\\\"\").concat(report.rating,\"\\\",\\\"\").concat(findings,\"\\\",\\\"\").concat(violations,\"\\\",\\\"\").concat(report.photos.length,\"\\\",\\\"\").concat(photoNames,\"\\\"\\n\");});const blob=new Blob([csvContent],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"inspection_report_\".concat(new Date().toISOString().split('T')[0],\".csv\");document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);};const renderPhotoGallery=()=>{const filteredInspections=getFilteredInspections();return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"Inspection Photo Gallery\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"View recent inspection photos from schools\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-auto\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Filter by School\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedSchool,onChange:e=>setSelectedSchool(e.target.value),className:\"w-full md:w-64 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:schools.map(school=>/*#__PURE__*/_jsx(\"option\",{value:school,children:school},school))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-auto\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Inspection Type\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedInspection,onChange:e=>setSelectedInspection(e.target.value),className:\"w-full md:w-64 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:inspections.map(inspection=>/*#__PURE__*/_jsx(\"option\",{value:inspection,children:inspection},inspection))})]})]})]}),filteredInspections.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 bg-white rounded-lg shadow\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No inspection photos found matching the selected filters.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredInspections.map(inspection=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-48 bg-gray-100\",children:[inspection.photos.length>0?/*#__PURE__*/_jsx(\"img\",{src:inspection.photos[0].url,alt:inspection.photos[0].caption||'Inspection photo',className:\"w-full h-full object-cover cursor-pointer\",onClick:()=>setSelectedPhoto(_objectSpread(_objectSpread({},inspection.photos[0]),{},{school:inspection.location,date:inspection.date}))}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center text-gray-400\",children:/*#__PURE__*/_jsx(Image,{size:48})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded\",children:[inspection.photos.length,\" \",inspection.photos.length===1?'photo':'photos']}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-2 bg-white bg-opacity-90 px-2 py-1 rounded-md shadow-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold \".concat(inspection.rating==='A+'?'text-green-600':inspection.rating==='B+'?'text-blue-600':'text-yellow-600'),children:inspection.rating})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800 mb-1 truncate\",children:inspection.location}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:[new Date(inspection.date).toLocaleDateString(),\" \\u2022 \",inspection.inspector]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mt-2\",children:[inspection.findings.slice(0,2).map((finding,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full\",children:finding.split(':')[0]},idx)),inspection.findings.length>2&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full\",children:[\"+\",inspection.findings.length-2,\" more\"]})]})]})]},inspection.id))})]});};const PhotoModal=_ref=>{let{photo,onClose,onNext,onPrev,hasNext,hasPrev}=_ref;if(!photo)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-4 right-4 text-white hover:text-gray-300\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(X,{size:32})}),hasPrev&&/*#__PURE__*/_jsx(\"button\",{onClick:onPrev,className:\"absolute left-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all\",\"aria-label\":\"Previous photo\",children:/*#__PURE__*/_jsx(ChevronLeft,{size:32})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-4xl w-full\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo.url,alt:photo.caption||'Inspection photo',className:\"max-h-[80vh] w-auto mx-auto object-contain\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-white text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-1\",children:photo.school}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:photo.caption}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:new Date(photo.date).toLocaleDateString()})]})]}),hasNext&&/*#__PURE__*/_jsx(\"button\",{onClick:onNext,className:\"absolute right-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all\",\"aria-label\":\"Next photo\",children:/*#__PURE__*/_jsx(ChevronRight,{size:32})})]});};const overviewData={totalBeneficiaries:12847,totalSchemes:24,totalBudget:25000000,utilizedBudget:21500000,completedAudits:156,pendingAudits:23};const schemePerformance=[{name:'Pre-Matric Scholarship',beneficiaries:4250,budget:5000000,utilization:84,completion:78},{name:'Post-Matric Scholarship',beneficiaries:3200,budget:8000000,utilization:89,completion:89},{name:'Skill Development',beneficiaries:1800,budget:3500000,utilization:80,completion:92},{name:'Self Employment',beneficiaries:950,budget:6000000,utilization:75,completion:86}];const monthlyTrends=[{month:'Jan',beneficiaries:1200,budget:2100000,audits:12},{month:'Feb',beneficiaries:1350,budget:2300000,audits:15},{month:'Mar',beneficiaries:1180,budget:2000000,audits:11},{month:'Apr',beneficiaries:1420,budget:2500000,audits:18},{month:'May',beneficiaries:1380,budget:2400000,audits:16},{month:'Jun',beneficiaries:1500,budget:2600000,audits:20}];const auditFindings=[{type:'Compliance Issues',count:8,severity:'medium'},{type:'Documentation Gaps',count:15,severity:'low'},{type:'Financial Irregularities',count:3,severity:'high'},{type:'Process Improvements',count:22,severity:'low'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-gray-50 min-h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"Reports & Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Generate comprehensive reports and analyze scheme performance\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:reportTypes.map(type=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setReportType(type.id),className:\"flex items-center px-4 py-2 rounded-md transition-colors \".concat(reportType===type.id?'bg-blue-100 text-blue-700 font-medium':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(type.icon,{className:\"w-5 h-5 mr-2\"}),type.name]},type.id))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[reportType==='overview'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Category Distribution\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:categoryDistribution.map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:category.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-900\",children:[category.percentage,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2.5 rounded-full\",style:{width:\"\".concat(category.percentage,\"%\")}})})]},category.category))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Recent Inspections\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:foodInspectionReports.map(report=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-4 last:border-0 last:pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:report.location}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs rounded-full \".concat(report.rating==='A+'?'bg-green-100 text-green-800':report.rating==='B+'?'bg-blue-100 text-blue-800':'bg-yellow-100 text-yellow-800'),children:report.rating})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[new Date(report.date).toLocaleDateString(),\" \\u2022 \",report.inspector]}),report.photos.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex space-x-2 overflow-x-auto pb-2\",children:[report.photos.slice(0,3).map((photo,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-20 h-20 bg-gray-100 rounded overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:photo.url,alt:photo.caption,className:\"w-full h-full object-cover\",onClick:()=>setSelectedPhoto(_objectSpread(_objectSpread({},photo),{},{school:report.location,date:report.date}))})},idx)),report.photos.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 w-20 h-20 bg-gray-100 rounded flex items-center justify-center text-gray-500 text-sm\",children:[\"+\",report.photos.length-3,\" more\"]})]})]},report.id))})]})]}),reportType==='gallery'&&renderPhotoGallery(),reportType==='financial'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Financial Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Financial reports will be displayed here.\"})]}),reportType==='beneficiary'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Beneficiary Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Beneficiary reports will be displayed here.\"})]}),reportType==='audit'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Audit Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Audit reports will be displayed here.\"})]})]}),selectedPhoto&&/*#__PURE__*/_jsx(PhotoModal,{photo:selectedPhoto,onClose:()=>setSelectedPhoto(null),onNext:()=>{// Find the next photo in the current inspection\nconst currentInspection=foodInspectionReports.find(inspection=>inspection.location===selectedPhoto.school);if(currentInspection){const currentIndex=currentInspection.photos.findIndex(p=>p.caption===selectedPhoto.caption);if(currentIndex<currentInspection.photos.length-1){setSelectedPhoto(_objectSpread(_objectSpread({},currentInspection.photos[currentIndex+1]),{},{school:currentInspection.location,date:currentInspection.date}));}}},onPrev:()=>{// Find the previous photo in the current inspection\nconst currentInspection=foodInspectionReports.find(inspection=>inspection.location===selectedPhoto.school);if(currentInspection){const currentIndex=currentInspection.photos.findIndex(p=>p.caption===selectedPhoto.caption);if(currentIndex>0){setSelectedPhoto(_objectSpread(_objectSpread({},currentInspection.photos[currentIndex-1]),{},{school:currentInspection.location,date:currentInspection.date}));}}},hasNext:true,hasPrev:true})]});};export default Reports;","map":{"version":3,"names":["React","useState","BarChart3","PieChart","TrendingUp","Download","Calendar","Filter","FileText","Users","DollarSign","Image","X","ChevronLeft","ChevronRight","jsx","_jsx","jsxs","_jsxs","Reports","reportType","setReportType","dateRange","setDateRange","selectedScheme","setSelectedScheme","selectedSchool","setSelectedSchool","selectedInspection","setSelectedInspection","selectedPhoto","setSelectedPhoto","reportTypes","id","name","icon","schemes","schools","inspections","categoryDistribution","category","percentage","foodInspectionReports","location","date","inspector","rating","photos","url","caption","findings","violations","getSeverityColor","severity","getFilteredInspections","filtered","filter","report","inspectionTypeMap","inspectionType","includes","generateReport","_reportTypes$find","selectedReportType","find","r","filteredInspections","reportData","type","scheme","school","inspection","generatedAt","Date","toLocaleString","summary","totalInspections","length","averageRating","calculateAverageRating","totalViolations","getTotalViolations","complianceRate","getComplianceRate","metrics","overviewData","reportContent","generateReportContent","downloadReport","concat","toISOString","split","alert","arguments","undefined","ratings","totalScore","reduce","sum","toFixed","total","compliantReports","data","map","index","finding","join","violation","photo","idx","content","filename","blob","Blob","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","exportReport","format","_reportTypes$find2","generatePDFReport","generateExcelReport","generateCSVReport","htmlContent","toLowerCase","replace","photoIndex","preview","size","getFullYear","printWindow","open","write","close","setTimeout","print","csvContent","forEach","photoNames","renderPhotoGallery","className","children","value","onChange","e","target","src","alt","onClick","_objectSpread","toLocaleDateString","slice","PhotoModal","_ref","onClose","onNext","onPrev","hasNext","hasPrev","totalBeneficiaries","totalSchemes","totalBudget","utilizedBudget","completedAudits","pendingAudits","schemePerformance","beneficiaries","budget","utilization","completion","monthlyTrends","month","audits","auditFindings","count","style","width","currentInspection","currentIndex","findIndex","p"],"sources":["/Users/prabdhar/CascadeProjects/windsurf-project/src/components/Reports.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { BarChart3, PieChart, TrendingUp, Download, Calendar, Filter, FileText, Users, DollarSign, Image, X, ChevronLeft, ChevronRight } from 'lucide-react';\n\nconst Reports = () => {\n  const [reportType, setReportType] = useState('overview');\n  const [dateRange, setDateRange] = useState('monthly');\n  const [selectedScheme, setSelectedScheme] = useState('all');\n  const [selectedSchool, setSelectedSchool] = useState('all');\n  const [selectedInspection, setSelectedInspection] = useState('all');\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n\n  const reportTypes = [\n    { id: 'overview', name: 'Overview Report', icon: BarChart3 },\n    { id: 'gallery', name: 'Photo Gallery', icon: Image },\n    { id: 'financial', name: 'Financial Report', icon: DollarSign },\n    { id: 'beneficiary', name: 'Beneficiary Report', icon: Users },\n    { id: 'audit', name: 'Audit Report', icon: FileText }\n  ];\n\n  const schemes = ['All Schemes', 'Pre-Matric Scholarship', 'Post-Matric Scholarship', 'Skill Development Program', 'Self Employment Scheme'];\n\n  // Available schools for filtering\n  const schools = [\n    'All Schools',\n    'Government High School Bangalore North',\n    'Government Primary School Mysore', \n    'Government Higher Secondary School Hubli',\n    'Government Primary School Mangalore'\n  ];\n\n  // Available inspections for filtering\n  const inspections = [\n    'All Inspections',\n    'Routine Inspections',\n    'Complaint-based Inspections',\n    'Follow-up Inspections',\n    'Surprise Inspections'\n  ];\n\n  // Sample data for category distribution\n  const categoryDistribution = [\n    { category: 'Food Quality', percentage: 75 },\n    { category: 'Hygiene', percentage: 85 },\n    { category: 'Safety Standards', percentage: 90 },\n    { category: 'Documentation', percentage: 65 },\n    { category: 'Staff Training', percentage: 70 }\n  ];\n\n  // Sample food inspection reports data\n  const foodInspectionReports = [\n    {\n      id: 1,\n      location: \"Government Primary School, Bangalore North\",\n      date: \"2024-01-15\",\n      inspector: \"Dr. Priya Sharma\",\n      rating: \"A+\",\n      photos: [\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBDbGVhbiBLaXRjaGVuIEltYWdlIC0tPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjBGOEZGIi8+CiAgPCEtLSBLaXRjaGVuIENvdW50ZXIgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjE0MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI0Q2RUFGOCIgcng9IjUiLz4KICA8IS0tIENvb2tpbmcgUG90cyAtLT4KICA8Y2lyY2xlIGN4PSI4MCIgY3k9IjEyMCIgcj0iMjAiIGZpbGw9IiM2Mzc1RjQiLz4KICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIxMjAiIHI9IjE4IiBmaWxsPSIjNDMzOENBIi8+CiAgPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTIwIiByPSIyMiIgZmlsbD0iIzM3MzBBMyIvPgogIDwhLS0gVmVnZXRhYmxlcyAtLT4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjgwIiByPSI4IiBmaWxsPSIjMTBCOTgxIi8+CiAgPGNpcmNsZSBjeD0iNzAiIGN5PSI3MCIgcj0iNiIgZmlsbD0iI0Y1OTcxNiIvPgogIDxjaXJjbGUgY3g9IjkwIiBjeT0iNzUiIHI9IjciIGZpbGw9IiNEQzI2MjYiLz4KICA8IS0tIFRpdGxlIC0tPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsZWFuIEtpdGNoZW48L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzM3NEY2OCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj5IeWdpZW5pYyBGb29kIFByZXBhcmF0aW9uPC90ZXh0Pgo8L3N2Zz4=\",\n          caption: \"Clean kitchen with proper utensils\"\n        },\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBGcmVzaCBGb29kIEltYWdlIC0tPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRkVGN0VEIi8+CiAgPCEtLSBQbGF0ZSAtLT4KICA8ZWxsaXBzZSBjeD0iMTUwIiBjeT0iMTMwIiByeD0iODAiIHJ5PSI0MCIgZmlsbD0iI0ZGRkZGRiIgc3Ryb2tlPSIjRDFEOEUwIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8IS0tIFJpY2UgLS0+CiAgPGVsbGlwc2UgY3g9IjEyMCIgY3k9IjEyMCIgcng9IjI1IiByeT0iMTUiIGZpbGw9IiNGRkZGRkYiLz4KICA8IS0tIERhbCAtLT4KICA8ZWxsaXBzZSBjeD0iMTgwIiBjeT0iMTIwIiByeD0iMjAiIHJ5PSIxMiIgZmlsbD0iI0Y1OTcxNiIvPgogIDwhLS0gVmVnZXRhYmxlcyAtLT4KICA8ZWxsaXBzZSBjeD0iMTUwIiBjeT0iMTQwIiByeD0iMTUiIHJ5PSIxMCIgZmlsbD0iIzEwQjk4MSIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkZyZXNoIE1lYWw8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzM3NEY2OCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj5OdXRyaXRpb3VzIEJhbGFuY2VkIERpZXQ8L3RleHQ+Cjwvc3ZnPg==\",\n          caption: \"Nutritious balanced meal served\"\n        }\n      ],\n      findings: [\"Excellent hygiene standards\", \"Fresh ingredients used\", \"Proper food storage\"],\n      violations: []\n    },\n    {\n      id: 2,\n      location: \"Government High School, Mysore\",\n      date: \"2024-01-18\",\n      inspector: \"Mr. Rajesh Kumar\",\n      rating: \"B+\",\n      photos: [\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBTdG9yYWdlIEFyZWEgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGRkY3RUQiLz4KICA8IS0tIFNoZWx2ZXMgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjYwIiB3aWR0aD0iMjYwIiBoZWlnaHQ9IjE1IiBmaWxsPSIjOEI1Q0Y2Ii8+CiAgPHJlY3QgeD0iMjAiIHk9IjEwMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSIxNSIgZmlsbD0iIzhCNUNGNiIvPgogIDxyZWN0IHg9IjIwIiB5PSIxNDAiIHdpZHRoPSIyNjAiIGhlaWdodD0iMTUiIGZpbGw9IiM4QjVDRjYiLz4KICA8IS0tIEZvb2QgQ29udGFpbmVycyAtLT4KICA8cmVjdCB4PSI0MCIgeT0iNDAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMCIgZmlsbD0iI0Y5FEFBMCJ+CiAgPHJlY3QgeD0iMTAwIiB5PSI0MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkJCRjI0Ii8+CiAgPHJlY3QgeD0iMTYwIiB5PSI0MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkE4MDcyIi8+CiAgPCEtLSBUaXRsZSAtLT4KICA8dGV4dCB4PSIxNTAiIHk9IjMwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMUYyQTM3IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJib2xkIj5Gb29kIFN0b3JhZ2U8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIxODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzNzRGNjgiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+T3JnYW5pemVkIFN0b3JhZ2UgQXJlYTwvdGV4dD4KPC9zdmc+\",\n          caption: \"Well-organized food storage area\"\n        },\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBXYXNoaW5nIEFyZWEgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRkY2RkYiLz4KICA8IS0tIFNpbmsgLS0+CiAgPHJlY3QgeD0iNTAiIHk9IjEwMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSI2MCIgZmlsbD0iI0Q2RUFGOCIgcng9IjEwIi8+CiAgPCEtLSBXYXRlciBUYXAgLS0+CiAgPHJlY3QgeD0iMTQwIiB5PSI4MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjNjM3NUY0Ii8+CiAgPCEtLSBXYXRlciBEcm9wcyAtLT4KICA8Y2lyY2xlIGN4PSIxNDUiIGN5PSIxMjAiIHI9IjMiIGZpbGw9IiMwNkI2RDQiLz4KICA8Y2lyY2xlIGN4PSIxNTUiIGN5PSIxMjUiIHI9IjIiIGZpbGw9IiMwNkI2RDQiLz4KICA8IS0tIFNvYXAgLS0+CiAgPGNpcmNsZSBjeD0iMjIwIiBjeT0iMTIwIiByPSIxMCIgZmlsbD0iI0Y5FEFBMCJ+CiAgPHRleHQgeD0iMTUwIiB5PSIzMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFGMkEzNyIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCI+V2FzaGluZyBBcmVhPC90ZXh0PgogIDx0ZXh0IHg9IjE1MCIgeT0iMTgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzc0RjY4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPkNsZWFuIFdhc2hpbmcgRmFjaWxpdGllczwvdGV4dD4KPC9zdmc+\",\n          caption: \"Clean washing facilities available\"\n        }\n      ],\n      findings: [\"Good storage practices\", \"Clean washing area\", \"Minor improvements needed\"],\n      violations: [\"Expired items found in storage\"]\n    },\n    {\n      id: 3,\n      location: \"Government School, Hubli\",\n      date: \"2024-01-20\",\n      inspector: \"Ms. Lakshmi Devi\",\n      rating: \"C\",\n      photos: [\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBJc3N1ZXMgRm91bmQgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGRUY3RUQiLz4KICA8IS0tIERpcnR5IFN1cmZhY2UgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjE0MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI0ZCQkYyNCIgcng9IjUiLz4KICA8IS0tIFNwb3RzIC0tPgogIDxjaXJjbGUgY3g9IjgwIiBjeT0iMTIwIiByPSI4IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMTEwIiByPSI2IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTI1IiByPSI3IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPCEtLSBXYXJuaW5nIFNpZ24gLS0+CiAgPHBvbHlnb24gcG9pbnRzPSIxNTAsNTAgMTMwLDkwIDE3MCw5MCIgZmlsbD0iI0Y1OTcxNiIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iNzgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZm9udC13ZWlnaHQ9ImJvbGQiPiE8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIzMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFGMkEzNyIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCI+SHlnaWVuZSBJc3N1ZXM8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIxODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzNzRGNjgiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+SW1wcm92ZW1lbnRzIE5lZWRlZDwvdGV4dD4KPC9zdmc+\",\n          caption: \"Hygiene issues identified\"\n        },\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBDbGVhbmluZyBTdXBwbGllcyAtLT4KICA8cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI0VGRjZGRiIvPgogIDwhLS0gQ2xlYW5pbmcgQm90dGxlcyAtLT4KICA8cmVjdCB4PSI2MCIgeT0iMTAwIiB3aWR0aD0iMjAiIGhlaWdodD0iNjAiIGZpbGw9IiMxMEI5ODEiIHJ4PSI1Ii8+CiAgPHJlY3QgeD0iMTAwIiB5PSI5MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjcwIiBmaWxsPSIjMDZCNkQ0IiByeD0iNSIvPgogIDxyZWN0IHg9IjE0MCIgeT0iMTA1IiB3aWR0aD0iMjAiIGhlaWdodD0iNTUiIGZpbGw9IiNGNTk3MTYiIHJ4PSI1Ii8+CiAgPCEtLSBDbGVhbmluZyBDbG90aCAtLT4KICA8ZWxsaXBzZSBjeD0iMjAwIiBjeT0iMTMwIiByeD0iMzAiIHJ5PSIyMCIgZmlsbD0iI0ZCQkYyNCIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsZWFuaW5nIFN1cHBsaWVzPC90ZXh0PgogIDx0ZXh0IHg9IjE1MCIgeT0iMTgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzc0RjY4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPkFkZXF1YXRlIFN1cHBsaWVzIEF2YWlsYWJsZTwvdGV4dD4KPC9zdmc+\",\n          caption: \"Adequate cleaning supplies available\"\n        }\n      ],\n      findings: [\"Cleaning supplies available\", \"Staff training needed\"],\n      violations: [\"Poor surface cleanliness\", \"Inadequate hand washing facilities\"]\n    }\n  ];\n\n  const getSeverityColor = (severity) => {\n    switch (severity) {\n      case 'high': return 'bg-red-100 text-red-800';\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\n      case 'low': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getFilteredInspections = () => {\n    let filtered = [...foodInspectionReports];\n    \n    // Filter by school\n    if (selectedSchool !== 'All Schools') {\n      filtered = filtered.filter(report => report.location === selectedSchool);\n    }\n    \n    // Filter by inspection type\n    if (selectedInspection !== 'All Inspections') {\n      const inspectionTypeMap = {\n        'Routine Inspections': 'routine',\n        'Complaint-based Inspections': 'complaint',\n        'Follow-up Inspections': 'follow-up',\n        'Surprise Inspections': 'surprise'\n      };\n      const inspectionType = inspectionTypeMap[selectedInspection];\n      // For demo purposes, we'll filter based on rating as a proxy for inspection type\n      if (inspectionType === 'routine') {\n        filtered = filtered.filter(report => ['A+', 'A', 'B+'].includes(report.rating));\n      } else if (inspectionType === 'complaint') {\n        filtered = filtered.filter(report => ['C', 'D'].includes(report.rating));\n      }\n    }\n    \n    return filtered;\n  };\n\n  const generateReport = () => {\n    // Generate comprehensive report including food inspection data\n    const selectedReportType = reportTypes.find(r => r.id === reportType)?.name;\n    const filteredInspections = getFilteredInspections();\n    \n    let reportData = {\n      type: selectedReportType,\n      dateRange: dateRange,\n      scheme: selectedScheme,\n      school: selectedSchool,\n      inspection: selectedInspection,\n      generatedAt: new Date().toLocaleString(),\n      summary: {\n        totalInspections: filteredInspections.length,\n        averageRating: calculateAverageRating(filteredInspections),\n        totalViolations: getTotalViolations(filteredInspections),\n        complianceRate: getComplianceRate(filteredInspections)\n      },\n      inspections: filteredInspections,\n      metrics: overviewData\n    };\n\n    // Create downloadable report\n    const reportContent = generateReportContent(reportData);\n    downloadReport(reportContent, `${selectedReportType}_${selectedSchool}_${selectedInspection}_${new Date().toISOString().split('T')[0]}.txt`);\n    \n    alert(`✅ ${selectedReportType} generated successfully!\\nFiltered by: ${selectedSchool} | ${selectedInspection}\\nIncludes ${filteredInspections.length} food inspections with photos and detailed findings.`);\n  };\n\n  const calculateAverageRating = (inspections = foodInspectionReports) => {\n    const ratings = { 'A+': 4, 'A': 3.5, 'B+': 3, 'B': 2.5, 'C': 2, 'D': 1 };\n    const totalScore = inspections.reduce((sum, report) => sum + (ratings[report.rating] || 0), 0);\n    return inspections.length > 0 ? (totalScore / inspections.length).toFixed(1) : '0.0';\n  };\n\n  const getTotalViolations = (inspections = foodInspectionReports) => {\n    return inspections.reduce((total, report) => total + report.violations.length, 0);\n  };\n\n  const getComplianceRate = (inspections = foodInspectionReports) => {\n    if (inspections.length === 0) return '0.0';\n    const compliantReports = inspections.filter(report => report.violations.length === 0).length;\n    return ((compliantReports / inspections.length) * 100).toFixed(1);\n  };\n\n  const generateReportContent = (data) => {\n    return `\nFOOD TRANSPARENCY PORTAL - INSPECTION REPORT\n============================================\nReport Type: ${data.type}\nDate Range: ${data.dateRange}\nScheme: ${data.scheme}\nGenerated: ${data.generatedAt}\n\nEXECUTIVE SUMMARY\n================\nTotal Inspections: ${data.summary.totalInspections}\nAverage Rating: ${data.summary.averageRating}/4.0\nTotal Violations: ${data.summary.totalViolations}\nCompliance Rate: ${data.summary.complianceRate}%\n\nDETAILED INSPECTION REPORTS\n===========================\n${data.inspections.map((report, index) => `\n${index + 1}. ${report.location}\n   Date: ${report.date}\n   Inspector: ${report.inspector}\n   Rating: ${report.rating}\n   \n   Key Findings:\n   ${report.findings.map(finding => `   • ${finding}`).join('\\n')}\n   \n   Violations:\n   ${report.violations.length > 0 ? report.violations.map(violation => `   • ${violation}`).join('\\n') : '   • No violations found'}\n   \n   Photos: ${report.photos.length} inspection photos documented\n   ${report.photos.length > 0 ? report.photos.map((photo, idx) => `   - Photo ${idx + 1}: ${photo.name || `inspection_${idx + 1}.jpg`}`).join('\\n') : '   - No photos available'}\n`).join('\\n')}\n\nRECOMMENDATIONS\n===============\n• Continue monitoring schools with C ratings\n• Implement additional training for facilities with violations\n• Maintain excellent standards in A+ rated facilities\n• Regular follow-up inspections recommended\n\nReport generated by Food Transparency Portal - Social Welfare Department\n    `;\n  };\n\n  const downloadReport = (content, filename) => {\n    const blob = new Blob([content], { type: 'text/plain' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n\n  const exportReport = (format) => {\n    const selectedReportType = reportTypes.find(r => r.id === reportType)?.name;\n    \n    let reportData = {\n      type: selectedReportType,\n      dateRange: dateRange,\n      scheme: selectedScheme,\n      generatedAt: new Date().toLocaleString(),\n      summary: {\n        totalInspections: foodInspectionReports.length,\n        averageRating: calculateAverageRating(),\n        totalViolations: getTotalViolations(),\n        complianceRate: getComplianceRate()\n      },\n      inspections: foodInspectionReports,\n      metrics: overviewData\n    };\n\n    if (format === 'pdf') {\n      generatePDFReport(reportData);\n    } else if (format === 'excel') {\n      generateExcelReport(reportData);\n    } else if (format === 'csv') {\n      generateCSVReport(reportData);\n    }\n  };\n\n  const generatePDFReport = (data) => {\n    // Create HTML content for PDF\n    const htmlContent = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <meta charset=\"utf-8\">\n        <title>Food Transparency Portal - Inspection Report</title>\n        <style>\n            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\n            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }\n            .logo { font-size: 24px; font-weight: bold; color: #2563eb; }\n            .subtitle { color: #666; margin-top: 5px; }\n            .section { margin-bottom: 30px; }\n            .section-title { font-size: 18px; font-weight: bold; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }\n            .summary-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0; }\n            .summary-item { padding: 15px; background: #f8f9fa; border-radius: 5px; }\n            .summary-label { font-weight: bold; color: #666; }\n            .summary-value { font-size: 20px; font-weight: bold; color: #2563eb; }\n            .inspection { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; page-break-inside: avoid; }\n            .inspection-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n            .rating { padding: 5px 15px; border-radius: 20px; font-weight: bold; }\n            .rating-a { background: #dcfce7; color: #166534; }\n            .rating-b { background: #dbeafe; color: #1e40af; }\n            .rating-c { background: #fef3c7; color: #92400e; }\n            .findings { margin: 10px 0; }\n            .finding-item { margin: 5px 0; padding-left: 20px; }\n            .violation { color: #dc2626; }\n            .photo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 10px; }\n            .photo-item { border: 1px solid #ddd; border-radius: 5px; overflow: hidden; page-break-inside: avoid; }\n            .photo-item img { width: 100%; height: 120px; object-fit: cover; display: block; }\n            .photo-caption { padding: 8px; background: #f8f9fa; font-size: 12px; color: #666; text-align: center; }\n            .footer { margin-top: 50px; text-align: center; color: #666; font-size: 12px; }\n        </style>\n    </head>\n    <body>\n        <div class=\"header\">\n            <div class=\"logo\">🏛️ Food Transparency Portal</div>\n            <div class=\"subtitle\">Social Welfare Department - Karnataka Government</div>\n            <div style=\"margin-top: 15px;\">\n                <strong>${data.type}</strong> | ${data.dateRange} | Generated: ${data.generatedAt}\n            </div>\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">📊 Executive Summary</div>\n            <div class=\"summary-grid\">\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Total Inspections</div>\n                    <div class=\"summary-value\">${data.summary.totalInspections}</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Average Rating</div>\n                    <div class=\"summary-value\">${data.summary.averageRating}/4.0</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Total Violations</div>\n                    <div class=\"summary-value\">${data.summary.totalViolations}</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Compliance Rate</div>\n                    <div class=\"summary-value\">${data.summary.complianceRate}%</div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">🏫 Detailed Inspection Reports</div>\n            ${data.inspections.map((report, index) => `\n                <div class=\"inspection\">\n                    <div class=\"inspection-header\">\n                        <div>\n                            <h3>${report.location}</h3>\n                            <p>Inspector: ${report.inspector} | Date: ${report.date}</p>\n                        </div>\n                        <div class=\"rating rating-${report.rating.toLowerCase().replace('+', '')}\">\n                            Rating: ${report.rating}\n                        </div>\n                    </div>\n                    \n                    <div class=\"findings\">\n                        <strong>📋 Key Findings:</strong>\n                        ${report.findings.map(finding => `<div class=\"finding-item\">• ${finding}</div>`).join('')}\n                    </div>\n                    \n                    <div class=\"findings\">\n                        <strong>⚠️ Violations:</strong>\n                        ${report.violations.length > 0 ? \n                            report.violations.map(violation => `<div class=\"finding-item violation\">• ${violation}</div>`).join('') :\n                            '<div class=\"finding-item\">• No violations found ✅</div>'\n                        }\n                    </div>\n                    \n                    <div style=\"margin-top: 15px;\">\n                        <strong>📸 Inspection Photos (${report.photos.length}):</strong>\n                        ${report.photos.length > 0 ? `\n                            <div class=\"photo-grid\">\n                                ${report.photos.map((photo, photoIndex) => `\n                                    <div class=\"photo-item\">\n                                        <img src=\"${photo.preview || photo.url || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik04NSA2NUw5NSA3NUwxMTUgNTVMMTM1IDc1VjEwNUg2NVY3NUw4NSA2NVoiIGZpbGw9IiNEMUQ1REIiLz4KPGNpcmNsZSBjeD0iODAiIGN5PSI2MCIgcj0iNSIgZmlsbD0iI0QxRDVEQiIvPgo8L3N2Zz4K'}\" \n                                             alt=\"Inspection Photo ${photoIndex + 1}\">\n                                        <div class=\"photo-caption\">\n                                            Photo ${photoIndex + 1}: ${photo.name || `inspection_${photoIndex + 1}.jpg`}\n                                            <br><small>${photo.size ? (photo.size / 1024).toFixed(1) + ' KB' : ''}</small>\n                                        </div>\n                                    </div>\n                                `).join('')}\n                            </div>\n                        ` : '<div style=\"color: #666; font-style: italic; margin-top: 5px;\">No photos available for this inspection</div>'}\n                    </div>\n                </div>\n            `).join('')}\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">💡 Recommendations</div>\n            <div class=\"finding-item\">• Continue monitoring schools with C ratings</div>\n            <div class=\"finding-item\">• Implement additional training for facilities with violations</div>\n            <div class=\"finding-item\">• Maintain excellent standards in A+ rated facilities</div>\n            <div class=\"finding-item\">• Schedule regular follow-up inspections as recommended</div>\n            <div class=\"finding-item\">• Ensure proper documentation and photo evidence for all inspections</div>\n        </div>\n\n        <div class=\"footer\">\n            Report generated by Food Transparency Portal - Social Welfare Department<br>\n            Karnataka Government | ${new Date().getFullYear()}\n        </div>\n    </body>\n    </html>\n    `;\n\n    // Convert HTML to PDF using browser's print functionality\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(htmlContent);\n    printWindow.document.close();\n    \n    // Wait for content to load then trigger print\n    setTimeout(() => {\n      printWindow.print();\n      printWindow.close();\n    }, 1000);\n\n    alert(`✅ PDF report generated successfully!\\nUse your browser's print dialog to save as PDF.\\nIncludes ${data.summary.totalInspections} food inspections with detailed findings.`);\n  };\n\n  const generateExcelReport = (data) => {\n    // Create CSV content that can be opened in Excel\n    let csvContent = \"Food Transparency Portal - Inspection Report\\\\n\\\\n\";\n    csvContent += `Report Type,${data.type}\\\\n`;\n    csvContent += `Date Range,${data.dateRange}\\\\n`;\n    csvContent += `Generated,${data.generatedAt}\\\\n\\\\n`;\n    \n    csvContent += \"SUMMARY\\\\n\";\n    csvContent += `Total Inspections,${data.summary.totalInspections}\\\\n`;\n    csvContent += `Average Rating,${data.summary.averageRating}/4.0\\\\n`;\n    csvContent += `Total Violations,${data.summary.totalViolations}\\\\n`;\n    csvContent += `Compliance Rate,${data.summary.complianceRate}%\\\\n\\\\n`;\n    \n    csvContent += \"DETAILED INSPECTIONS\\\\n\";\n    csvContent += \"Location,Date,Inspector,Rating,Findings,Violations,Photos\\\\n\";\n    \n    data.inspections.forEach(report => {\n      csvContent += `\"${report.location}\",\"${report.date}\",\"${report.inspector}\",\"${report.rating}\",\"${report.findings.join('; ')}\",\"${report.violations.join('; ') || 'None'}\",\"${report.photos.length}\"\\\\n`;\n    });\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${data.type}_${data.dateRange}_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n\n    alert(`✅ Excel report downloaded successfully!\\nFile: ${data.type}_${data.dateRange}_${new Date().toISOString().split('T')[0]}.csv`);\n  };\n\n  const generateCSVReport = (data) => {\n    let csvContent = \"Location,Date,Inspector,Rating,Findings,Violations,Photos,Photo_Names\\n\";\n    \n    data.inspections.forEach(report => {\n      const findings = report.findings.join('; ');\n      const violations = report.violations.join('; ') || 'None';\n      const photoNames = report.photos.map(photo => photo.name || 'unnamed').join('; ');\n      csvContent += `\"${report.location}\",\"${report.date}\",\"${report.inspector}\",\"${report.rating}\",\"${findings}\",\"${violations}\",\"${report.photos.length}\",\"${photoNames}\"\\n`;\n    });\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `inspection_report_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n\n  const renderPhotoGallery = () => {\n    const filteredInspections = getFilteredInspections();\n    \n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-800\">Inspection Photo Gallery</h2>\n            <p className=\"text-gray-600\">View recent inspection photos from schools</p>\n          </div>\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"w-full md:w-auto\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Filter by School</label>\n              <select\n                value={selectedSchool}\n                onChange={(e) => setSelectedSchool(e.target.value)}\n                className=\"w-full md:w-64 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {schools.map((school) => (\n                  <option key={school} value={school}>\n                    {school}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"w-full md:w-auto\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Inspection Type</label>\n              <select\n                value={selectedInspection}\n                onChange={(e) => setSelectedInspection(e.target.value)}\n                className=\"w-full md:w-64 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {inspections.map((inspection) => (\n                  <option key={inspection} value={inspection}>\n                    {inspection}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {filteredInspections.length === 0 ? (\n          <div className=\"text-center py-12 bg-white rounded-lg shadow\">\n            <p className=\"text-gray-500\">No inspection photos found matching the selected filters.</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredInspections.map((inspection) => (\n              <div key={inspection.id} className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n                <div className=\"relative h-48 bg-gray-100\">\n                  {inspection.photos.length > 0 ? (\n                    <img\n                      src={inspection.photos[0].url}\n                      alt={inspection.photos[0].caption || 'Inspection photo'}\n                      className=\"w-full h-full object-cover cursor-pointer\"\n                      onClick={() => setSelectedPhoto({ ...inspection.photos[0], school: inspection.location, date: inspection.date })}\n                    />\n                  ) : (\n                    <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                      <Image size={48} />\n                    </div>\n                  )}\n                  <div className=\"absolute bottom-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded\">\n                    {inspection.photos.length} {inspection.photos.length === 1 ? 'photo' : 'photos'}\n                  </div>\n                  <div className=\"absolute top-2 left-2 bg-white bg-opacity-90 px-2 py-1 rounded-md shadow-sm\">\n                    <span className={`font-semibold ${\n                      inspection.rating === 'A+' ? 'text-green-600' :\n                      inspection.rating === 'B+' ? 'text-blue-600' :\n                      'text-yellow-600'\n                    }`}>\n                      {inspection.rating}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"p-4\">\n                  <h3 className=\"font-semibold text-gray-800 mb-1 truncate\">{inspection.location}</h3>\n                  <p className=\"text-sm text-gray-500 mb-2\">\n                    {new Date(inspection.date).toLocaleDateString()} • {inspection.inspector}\n                  </p>\n                  <div className=\"flex flex-wrap gap-2 mt-2\">\n                    {inspection.findings.slice(0, 2).map((finding, idx) => (\n                      <span key={idx} className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full\">\n                        {finding.split(':')[0]}\n                      </span>\n                    ))}\n                    {inspection.findings.length > 2 && (\n                      <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full\">\n                        +{inspection.findings.length - 2} more\n                      </span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const PhotoModal = ({ photo, onClose, onNext, onPrev, hasNext, hasPrev }) => {\n    if (!photo) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4\">\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-white hover:text-gray-300\"\n          aria-label=\"Close\"\n        >\n          <X size={32} />\n        </button>\n        \n        {hasPrev && (\n          <button\n            onClick={onPrev}\n            className=\"absolute left-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all\"\n            aria-label=\"Previous photo\"\n          >\n            <ChevronLeft size={32} />\n          </button>\n        )}\n        \n        <div className=\"relative max-w-4xl w-full\">\n          <img\n            src={photo.url}\n            alt={photo.caption || 'Inspection photo'}\n            className=\"max-h-[80vh] w-auto mx-auto object-contain\"\n          />\n          <div className=\"mt-4 text-white text-center\">\n            <h3 className=\"text-xl font-semibold mb-1\">{photo.school}</h3>\n            <p className=\"text-gray-300\">{photo.caption}</p>\n            <p className=\"text-sm text-gray-400 mt-2\">{new Date(photo.date).toLocaleDateString()}</p>\n          </div>\n        </div>\n        \n        {hasNext && (\n          <button\n            onClick={onNext}\n            className=\"absolute right-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all\"\n            aria-label=\"Next photo\"\n          >\n            <ChevronRight size={32} />\n          </button>\n        )}\n      </div>\n    );\n  };\n\n  const overviewData = {\n    totalBeneficiaries: 12847,\n    totalSchemes: 24,\n    totalBudget: 25000000,\n    utilizedBudget: 21500000,\n    completedAudits: 156,\n    pendingAudits: 23\n  };\n\n  const schemePerformance = [\n    { name: 'Pre-Matric Scholarship', beneficiaries: 4250, budget: 5000000, utilization: 84, completion: 78 },\n    { name: 'Post-Matric Scholarship', beneficiaries: 3200, budget: 8000000, utilization: 89, completion: 89 },\n    { name: 'Skill Development', beneficiaries: 1800, budget: 3500000, utilization: 80, completion: 92 },\n    { name: 'Self Employment', beneficiaries: 950, budget: 6000000, utilization: 75, completion: 86 }\n  ];\n\n  const monthlyTrends = [\n    { month: 'Jan', beneficiaries: 1200, budget: 2100000, audits: 12 },\n    { month: 'Feb', beneficiaries: 1350, budget: 2300000, audits: 15 },\n    { month: 'Mar', beneficiaries: 1180, budget: 2000000, audits: 11 },\n    { month: 'Apr', beneficiaries: 1420, budget: 2500000, audits: 18 },\n    { month: 'May', beneficiaries: 1380, budget: 2400000, audits: 16 },\n    { month: 'Jun', beneficiaries: 1500, budget: 2600000, audits: 20 }\n  ];\n\n  const auditFindings = [\n    { type: 'Compliance Issues', count: 8, severity: 'medium' },\n    { type: 'Documentation Gaps', count: 15, severity: 'low' },\n    { type: 'Financial Irregularities', count: 3, severity: 'high' },\n    { type: 'Process Improvements', count: 22, severity: 'low' }\n  ];\n\n  return (\n    <div className=\"p-6 bg-gray-50 min-h-screen\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Reports & Analytics</h1>\n        <p className=\"text-gray-600\">Generate comprehensive reports and analyze scheme performance</p>\n      </div>\n\n      {/* Report type tabs */}\n      <div className=\"bg-white rounded-lg shadow p-4 mb-6\">\n        <div className=\"flex flex-wrap gap-2\">\n          {reportTypes.map((type) => (\n            <button\n              key={type.id}\n              onClick={() => setReportType(type.id)}\n              className={`flex items-center px-4 py-2 rounded-md transition-colors ${\n                reportType === type.id\n                  ? 'bg-blue-100 text-blue-700 font-medium'\n                  : 'text-gray-600 hover:bg-gray-100'\n              }`}\n            >\n              <type.icon className=\"w-5 h-5 mr-2\" />\n              {type.name}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Main Content Area */}\n      <div className=\"space-y-6\">\n        {reportType === 'overview' && (\n          <div>\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Category Distribution</h3>\n              <div className=\"space-y-4\">\n                {categoryDistribution.map((category) => (\n                  <div key={category.category} className=\"space-y-2\">\n                    <div className=\"flex justify-between text-sm\">\n                      <span className=\"font-medium text-gray-700\">{category.category}</span>\n                      <span className=\"text-sm font-medium text-gray-900\">{category.percentage}%</span>\n                    </div>\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                      <div \n                        className=\"bg-blue-600 h-2.5 rounded-full\" \n                        style={{ width: `${category.percentage}%` }}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Recent Inspections */}\n            <div className=\"bg-white rounded-lg shadow-md p-6 mt-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Recent Inspections</h3>\n              <div className=\"space-y-4\">\n                {foodInspectionReports.map((report) => (\n                  <div key={report.id} className=\"border-b pb-4 last:border-0 last:pb-0\">\n                    <div className=\"flex justify-between items-center\">\n                      <h4 className=\"font-medium text-gray-900\">{report.location}</h4>\n                      <span className={`px-2 py-1 text-xs rounded-full ${\n                        report.rating === 'A+' ? 'bg-green-100 text-green-800' :\n                        report.rating === 'B+' ? 'bg-blue-100 text-blue-800' :\n                        'bg-yellow-100 text-yellow-800'\n                      }`}>\n                        {report.rating}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-gray-600\">\n                      {new Date(report.date).toLocaleDateString()} • {report.inspector}\n                    </p>\n                    {report.photos.length > 0 && (\n                      <div className=\"mt-2 flex space-x-2 overflow-x-auto pb-2\">\n                        {report.photos.slice(0, 3).map((photo, idx) => (\n                          <div key={idx} className=\"flex-shrink-0 w-20 h-20 bg-gray-100 rounded overflow-hidden\">\n                            <img \n                              src={photo.url} \n                              alt={photo.caption} \n                              className=\"w-full h-full object-cover\"\n                              onClick={() => setSelectedPhoto({ ...photo, school: report.location, date: report.date })}\n                            />\n                          </div>\n                        ))}\n                        {report.photos.length > 3 && (\n                          <div className=\"flex-shrink-0 w-20 h-20 bg-gray-100 rounded flex items-center justify-center text-gray-500 text-sm\">\n                            +{report.photos.length - 3} more\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {reportType === 'gallery' && renderPhotoGallery()}\n\n        {reportType === 'financial' && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Financial Reports</h3>\n            <p className=\"text-gray-600\">Financial reports will be displayed here.</p>\n          </div>\n        )}\n\n        {reportType === 'beneficiary' && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Beneficiary Reports</h3>\n            <p className=\"text-gray-600\">Beneficiary reports will be displayed here.</p>\n          </div>\n        )}\n\n        {reportType === 'audit' && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Audit Reports</h3>\n            <p className=\"text-gray-600\">Audit reports will be displayed here.</p>\n          </div>\n        )}\n      </div>\n\n      {/* Photo Modal */}\n      {selectedPhoto && (\n        <PhotoModal\n          photo={selectedPhoto}\n          onClose={() => setSelectedPhoto(null)}\n          onNext={() => {\n            // Find the next photo in the current inspection\n            const currentInspection = foodInspectionReports.find(\n              (inspection) => inspection.location === selectedPhoto.school\n            );\n            if (currentInspection) {\n              const currentIndex = currentInspection.photos.findIndex(\n                (p) => p.caption === selectedPhoto.caption\n              );\n              if (currentIndex < currentInspection.photos.length - 1) {\n                setSelectedPhoto({\n                  ...currentInspection.photos[currentIndex + 1],\n                  school: currentInspection.location,\n                  date: currentInspection.date\n                });\n              }\n            }\n          }}\n          onPrev={() => {\n            // Find the previous photo in the current inspection\n            const currentInspection = foodInspectionReports.find(\n              (inspection) => inspection.location === selectedPhoto.school\n            );\n            if (currentInspection) {\n              const currentIndex = currentInspection.photos.findIndex(\n                (p) => p.caption === selectedPhoto.caption\n              );\n              if (currentIndex > 0) {\n                setSelectedPhoto({\n                  ...currentInspection.photos[currentIndex - 1],\n                  school: currentInspection.location,\n                  date: currentInspection.date\n                });\n              }\n            }\n          }}\n          hasNext={true}\n          hasPrev={true}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Reports;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}