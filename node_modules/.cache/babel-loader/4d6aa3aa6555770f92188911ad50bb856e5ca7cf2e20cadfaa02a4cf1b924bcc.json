{"ast":null,"code":"import React,{createContext,useContext,useEffect,useMemo,useState}from'react';import{translations}from'./translations';import{jsx as _jsx}from\"react/jsx-runtime\";const I18nContext=/*#__PURE__*/createContext({lang:'en',setLang:()=>{},t:key=>key});function get(obj,path){return path.split('.').reduce((acc,part)=>acc&&acc[part]!==undefined?acc[part]:undefined,obj);}export const I18nProvider=_ref=>{let{children}=_ref;const[lang,setLangState]=useState(()=>localStorage.getItem('lang')||'en');useEffect(()=>{localStorage.setItem('lang',lang);// Update document lang attribute for accessibility\ndocument.documentElement.setAttribute('lang',lang);},[lang]);const setLang=next=>{setLangState(next);};const t=useMemo(()=>{return key=>{const locale=translations[lang]||translations.en;const val=get(locale,key);if(val!==undefined)return val;// fallback to English\nconst fallback=get(translations.en,key);return fallback!==undefined?fallback:key;};},[lang]);const value=useMemo(()=>({lang,setLang,t}),[lang,t]);return/*#__PURE__*/_jsx(I18nContext.Provider,{value:value,children:children});};export const useI18n=()=>useContext(I18nContext);","map":{"version":3,"names":["React","createContext","useContext","useEffect","useMemo","useState","translations","jsx","_jsx","I18nContext","lang","setLang","t","key","get","obj","path","split","reduce","acc","part","undefined","I18nProvider","_ref","children","setLangState","localStorage","getItem","setItem","document","documentElement","setAttribute","next","locale","en","val","fallback","value","Provider","useI18n"],"sources":["/Users/prabdhar/CascadeProjects/windsurf-project/src/i18n/I18nProvider.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useMemo, useState } from 'react';\nimport { translations } from './translations';\n\nconst I18nContext = createContext({\n  lang: 'en',\n  setLang: () => {},\n  t: (key) => key,\n});\n\nfunction get(obj, path) {\n  return path.split('.').reduce((acc, part) => (acc && acc[part] !== undefined ? acc[part] : undefined), obj);\n}\n\nexport const I18nProvider = ({ children }) => {\n  const [lang, setLangState] = useState(() => localStorage.getItem('lang') || 'en');\n\n  useEffect(() => {\n    localStorage.setItem('lang', lang);\n    // Update document lang attribute for accessibility\n    document.documentElement.setAttribute('lang', lang);\n  }, [lang]);\n\n  const setLang = (next) => {\n    setLangState(next);\n  };\n\n  const t = useMemo(() => {\n    return (key) => {\n      const locale = translations[lang] || translations.en;\n      const val = get(locale, key);\n      if (val !== undefined) return val;\n      // fallback to English\n      const fallback = get(translations.en, key);\n      return fallback !== undefined ? fallback : key;\n    };\n  }, [lang]);\n\n  const value = useMemo(() => ({ lang, setLang, t }), [lang, t]);\n\n  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;\n};\n\nexport const useI18n = () => useContext(I18nContext);\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CACtF,OAASC,YAAY,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9C,KAAM,CAAAC,WAAW,cAAGR,aAAa,CAAC,CAChCS,IAAI,CAAE,IAAI,CACVC,OAAO,CAAEA,CAAA,GAAM,CAAC,CAAC,CACjBC,CAAC,CAAGC,GAAG,EAAKA,GACd,CAAC,CAAC,CAEF,QAAS,CAAAC,GAAGA,CAACC,GAAG,CAAEC,IAAI,CAAE,CACtB,MAAO,CAAAA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAMD,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,GAAKC,SAAS,CAAGF,GAAG,CAACC,IAAI,CAAC,CAAGC,SAAU,CAAEN,GAAG,CAAC,CAC7G,CAEA,MAAO,MAAM,CAAAO,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACb,IAAI,CAAEe,YAAY,CAAC,CAAGpB,QAAQ,CAAC,IAAMqB,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAAC,CAEjFxB,SAAS,CAAC,IAAM,CACduB,YAAY,CAACE,OAAO,CAAC,MAAM,CAAElB,IAAI,CAAC,CAClC;AACAmB,QAAQ,CAACC,eAAe,CAACC,YAAY,CAAC,MAAM,CAAErB,IAAI,CAAC,CACrD,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAC,OAAO,CAAIqB,IAAI,EAAK,CACxBP,YAAY,CAACO,IAAI,CAAC,CACpB,CAAC,CAED,KAAM,CAAApB,CAAC,CAAGR,OAAO,CAAC,IAAM,CACtB,MAAQ,CAAAS,GAAG,EAAK,CACd,KAAM,CAAAoB,MAAM,CAAG3B,YAAY,CAACI,IAAI,CAAC,EAAIJ,YAAY,CAAC4B,EAAE,CACpD,KAAM,CAAAC,GAAG,CAAGrB,GAAG,CAACmB,MAAM,CAAEpB,GAAG,CAAC,CAC5B,GAAIsB,GAAG,GAAKd,SAAS,CAAE,MAAO,CAAAc,GAAG,CACjC;AACA,KAAM,CAAAC,QAAQ,CAAGtB,GAAG,CAACR,YAAY,CAAC4B,EAAE,CAAErB,GAAG,CAAC,CAC1C,MAAO,CAAAuB,QAAQ,GAAKf,SAAS,CAAGe,QAAQ,CAAGvB,GAAG,CAChD,CAAC,CACH,CAAC,CAAE,CAACH,IAAI,CAAC,CAAC,CAEV,KAAM,CAAA2B,KAAK,CAAGjC,OAAO,CAAC,KAAO,CAAEM,IAAI,CAAEC,OAAO,CAAEC,CAAE,CAAC,CAAC,CAAE,CAACF,IAAI,CAAEE,CAAC,CAAC,CAAC,CAE9D,mBAAOJ,IAAA,CAACC,WAAW,CAAC6B,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAb,QAAA,CAAEA,QAAQ,CAAuB,CAAC,CAC9E,CAAC,CAED,MAAO,MAAM,CAAAe,OAAO,CAAGA,CAAA,GAAMrC,UAAU,CAACO,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}