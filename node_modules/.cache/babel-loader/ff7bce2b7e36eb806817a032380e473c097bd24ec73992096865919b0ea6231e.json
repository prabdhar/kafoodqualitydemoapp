{"ast":null,"code":"import React,{useState,useRef}from'react';import{Camera,Upload,X,Eye}from'lucide-react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const PhotoUpload=_ref=>{let{onPhotosChange,maxPhotos=5,label=\"Upload Photos\"}=_ref;const[photos,setPhotos]=useState([]);const[previewPhoto,setPreviewPhoto]=useState(null);const fileInputRef=useRef(null);const handleFileSelect=event=>{const files=Array.from(event.target.files);files.forEach(file=>{if(photos.length<maxPhotos&&file.type.startsWith('image/')){const reader=new FileReader();reader.onload=e=>{const newPhoto={id:Date.now()+Math.random(),file:file,preview:e.target.result,name:file.name,size:file.size};setPhotos(prev=>{const updated=[...prev,newPhoto];onPhotosChange&&onPhotosChange(updated);return updated;});};reader.readAsDataURL(file);}});// Reset input\nevent.target.value='';};const removePhoto=photoId=>{setPhotos(prev=>{const updated=prev.filter(photo=>photo.id!==photoId);onPhotosChange&&onPhotosChange(updated);return updated;});};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[label,\" (\",photos.length,\"/\",maxPhotos,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer\",onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(Camera,{className:\"h-8 w-8 text-gray-400\"}),/*#__PURE__*/_jsx(Upload,{className:\"h-8 w-8 text-gray-400\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Click to upload photos or drag and drop\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"PNG, JPG, JPEG up to 10MB each\"})]})}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",multiple:true,onChange:handleFileSelect,className:\"hidden\"}),photos.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\",children:photos.map(photo=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square bg-gray-100 rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:photo.preview,alt:photo.name,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center space-x-2 opacity-0 group-hover:opacity-100\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPreviewPhoto(photo),className:\"p-2 bg-white rounded-full hover:bg-gray-100 transition-colors\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4 text-gray-700\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removePhoto(photo.id),className:\"p-2 bg-red-500 rounded-full hover:bg-red-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4 text-white\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-gray-600 truncate\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium truncate\",children:photo.name}),/*#__PURE__*/_jsx(\"p\",{children:formatFileSize(photo.size)})]})]},photo.id))}),previewPhoto&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-4xl max-h-full\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPreviewPhoto(null),className:\"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 transition-colors z-10\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6 text-gray-700\"})}),/*#__PURE__*/_jsx(\"img\",{src:previewPhoto.preview,alt:previewPhoto.name,className:\"max-w-full max-h-full object-contain rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-4 left-4 bg-white bg-opacity-90 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:previewPhoto.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:formatFileSize(previewPhoto.size)})]})]})})]});};export default PhotoUpload;","map":{"version":3,"names":["React","useState","useRef","Camera","Upload","X","Eye","jsxs","_jsxs","jsx","_jsx","PhotoUpload","_ref","onPhotosChange","maxPhotos","label","photos","setPhotos","previewPhoto","setPreviewPhoto","fileInputRef","handleFileSelect","event","files","Array","from","target","forEach","file","length","type","startsWith","reader","FileReader","onload","e","newPhoto","id","Date","now","Math","random","preview","result","name","size","prev","updated","readAsDataURL","value","removePhoto","photoId","filter","photo","formatFileSize","bytes","k","sizes","i","floor","log","parseFloat","pow","toFixed","className","children","onClick","_fileInputRef$current","current","click","ref","accept","multiple","onChange","map","src","alt"],"sources":["/Users/prabdhar/CascadeProjects/windsurf-project/src/components/PhotoUpload.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Camera, Upload, X, Eye } from 'lucide-react';\n\nconst PhotoUpload = ({ onPhotosChange, maxPhotos = 5, label = \"Upload Photos\" }) => {\n  const [photos, setPhotos] = useState([]);\n  const [previewPhoto, setPreviewPhoto] = useState(null);\n  const fileInputRef = useRef(null);\n\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    \n    files.forEach(file => {\n      if (photos.length < maxPhotos && file.type.startsWith('image/')) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const newPhoto = {\n            id: Date.now() + Math.random(),\n            file: file,\n            preview: e.target.result,\n            name: file.name,\n            size: file.size\n          };\n          \n          setPhotos(prev => {\n            const updated = [...prev, newPhoto];\n            onPhotosChange && onPhotosChange(updated);\n            return updated;\n          });\n        };\n        reader.readAsDataURL(file);\n      }\n    });\n    \n    // Reset input\n    event.target.value = '';\n  };\n\n  const removePhoto = (photoId) => {\n    setPhotos(prev => {\n      const updated = prev.filter(photo => photo.id !== photoId);\n      onPhotosChange && onPhotosChange(updated);\n      return updated;\n    });\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n        {label} ({photos.length}/{maxPhotos})\n      </label>\n      \n      {/* Upload Area */}\n      <div \n        className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer\"\n        onClick={() => fileInputRef.current?.click()}\n      >\n        <div className=\"flex flex-col items-center space-y-2\">\n          <div className=\"flex space-x-2\">\n            <Camera className=\"h-8 w-8 text-gray-400\" />\n            <Upload className=\"h-8 w-8 text-gray-400\" />\n          </div>\n          <p className=\"text-gray-600\">\n            Click to upload photos or drag and drop\n          </p>\n          <p className=\"text-xs text-gray-500\">\n            PNG, JPG, JPEG up to 10MB each\n          </p>\n        </div>\n      </div>\n\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        multiple\n        onChange={handleFileSelect}\n        className=\"hidden\"\n      />\n\n      {/* Photo Grid */}\n      {photos.length > 0 && (\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n          {photos.map((photo) => (\n            <div key={photo.id} className=\"relative group\">\n              <div className=\"aspect-square bg-gray-100 rounded-lg overflow-hidden\">\n                <img\n                  src={photo.preview}\n                  alt={photo.name}\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              \n              {/* Overlay with actions */}\n              <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center space-x-2 opacity-0 group-hover:opacity-100\">\n                <button\n                  onClick={() => setPreviewPhoto(photo)}\n                  className=\"p-2 bg-white rounded-full hover:bg-gray-100 transition-colors\"\n                >\n                  <Eye className=\"h-4 w-4 text-gray-700\" />\n                </button>\n                <button\n                  onClick={() => removePhoto(photo.id)}\n                  className=\"p-2 bg-red-500 rounded-full hover:bg-red-600 transition-colors\"\n                >\n                  <X className=\"h-4 w-4 text-white\" />\n                </button>\n              </div>\n              \n              {/* File info */}\n              <div className=\"mt-2 text-xs text-gray-600 truncate\">\n                <p className=\"font-medium truncate\">{photo.name}</p>\n                <p>{formatFileSize(photo.size)}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Photo Preview Modal */}\n      {previewPhoto && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n          <div className=\"relative max-w-4xl max-h-full\">\n            <button\n              onClick={() => setPreviewPhoto(null)}\n              className=\"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 transition-colors z-10\"\n            >\n              <X className=\"h-6 w-6 text-gray-700\" />\n            </button>\n            <img\n              src={previewPhoto.preview}\n              alt={previewPhoto.name}\n              className=\"max-w-full max-h-full object-contain rounded-lg\"\n            />\n            <div className=\"absolute bottom-4 left-4 bg-white bg-opacity-90 rounded-lg p-3\">\n              <p className=\"font-medium text-gray-900\">{previewPhoto.name}</p>\n              <p className=\"text-sm text-gray-600\">{formatFileSize(previewPhoto.size)}</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PhotoUpload;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC/C,OAASC,MAAM,CAAEC,MAAM,CAAEC,CAAC,CAAEC,GAAG,KAAQ,cAAc,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEtD,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAgE,IAA/D,CAAEC,cAAc,CAAEC,SAAS,CAAG,CAAC,CAAEC,KAAK,CAAG,eAAgB,CAAC,CAAAH,IAAA,CAC7E,KAAM,CAACI,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiB,YAAY,CAAEC,eAAe,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAAAmB,YAAY,CAAGlB,MAAM,CAAC,IAAI,CAAC,CAEjC,KAAM,CAAAmB,gBAAgB,CAAIC,KAAK,EAAK,CAClC,KAAM,CAAAC,KAAK,CAAGC,KAAK,CAACC,IAAI,CAACH,KAAK,CAACI,MAAM,CAACH,KAAK,CAAC,CAE5CA,KAAK,CAACI,OAAO,CAACC,IAAI,EAAI,CACpB,GAAIZ,MAAM,CAACa,MAAM,CAAGf,SAAS,EAAIc,IAAI,CAACE,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,CAAE,CAC/D,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,CAAC,EAAK,CACrB,KAAM,CAAAC,QAAQ,CAAG,CACfC,EAAE,CAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAC9Bb,IAAI,CAAEA,IAAI,CACVc,OAAO,CAAEP,CAAC,CAACT,MAAM,CAACiB,MAAM,CACxBC,IAAI,CAAEhB,IAAI,CAACgB,IAAI,CACfC,IAAI,CAAEjB,IAAI,CAACiB,IACb,CAAC,CAED5B,SAAS,CAAC6B,IAAI,EAAI,CAChB,KAAM,CAAAC,OAAO,CAAG,CAAC,GAAGD,IAAI,CAAEV,QAAQ,CAAC,CACnCvB,cAAc,EAAIA,cAAc,CAACkC,OAAO,CAAC,CACzC,MAAO,CAAAA,OAAO,CAChB,CAAC,CAAC,CACJ,CAAC,CACDf,MAAM,CAACgB,aAAa,CAACpB,IAAI,CAAC,CAC5B,CACF,CAAC,CAAC,CAEF;AACAN,KAAK,CAACI,MAAM,CAACuB,KAAK,CAAG,EAAE,CACzB,CAAC,CAED,KAAM,CAAAC,WAAW,CAAIC,OAAO,EAAK,CAC/BlC,SAAS,CAAC6B,IAAI,EAAI,CAChB,KAAM,CAAAC,OAAO,CAAGD,IAAI,CAACM,MAAM,CAACC,KAAK,EAAIA,KAAK,CAAChB,EAAE,GAAKc,OAAO,CAAC,CAC1DtC,cAAc,EAAIA,cAAc,CAACkC,OAAO,CAAC,CACzC,MAAO,CAAAA,OAAO,CAChB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAO,cAAc,CAAIC,KAAK,EAAK,CAChC,GAAIA,KAAK,GAAK,CAAC,CAAE,MAAO,SAAS,CACjC,KAAM,CAAAC,CAAC,CAAG,IAAI,CACd,KAAM,CAAAC,KAAK,CAAG,CAAC,OAAO,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAC,CACzC,KAAM,CAAAC,CAAC,CAAGlB,IAAI,CAACmB,KAAK,CAACnB,IAAI,CAACoB,GAAG,CAACL,KAAK,CAAC,CAAGf,IAAI,CAACoB,GAAG,CAACJ,CAAC,CAAC,CAAC,CACnD,MAAO,CAAAK,UAAU,CAAC,CAACN,KAAK,CAAGf,IAAI,CAACsB,GAAG,CAACN,CAAC,CAAEE,CAAC,CAAC,EAAEK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAG,GAAG,CAAGN,KAAK,CAACC,CAAC,CAAC,CACzE,CAAC,CAED,mBACElD,KAAA,QAAKwD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBzD,KAAA,UAAOwD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAC5DlD,KAAK,CAAC,IAAE,CAACC,MAAM,CAACa,MAAM,CAAC,GAAC,CAACf,SAAS,CAAC,GACtC,EAAO,CAAC,cAGRJ,IAAA,QACEsD,SAAS,CAAC,0HAA0H,CACpIE,OAAO,CAAEA,CAAA,QAAAC,qBAAA,QAAAA,qBAAA,CAAM/C,YAAY,CAACgD,OAAO,UAAAD,qBAAA,iBAApBA,qBAAA,CAAsBE,KAAK,CAAC,CAAC,EAAC,CAAAJ,QAAA,cAE7CzD,KAAA,QAAKwD,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnDzD,KAAA,QAAKwD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvD,IAAA,CAACP,MAAM,EAAC6D,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC5CtD,IAAA,CAACN,MAAM,EAAC4D,SAAS,CAAC,uBAAuB,CAAE,CAAC,EACzC,CAAC,cACNtD,IAAA,MAAGsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,yCAE7B,CAAG,CAAC,cACJvD,IAAA,MAAGsD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,gCAErC,CAAG,CAAC,EACD,CAAC,CACH,CAAC,cAENvD,IAAA,UACE4D,GAAG,CAAElD,YAAa,CAClBU,IAAI,CAAC,MAAM,CACXyC,MAAM,CAAC,SAAS,CAChBC,QAAQ,MACRC,QAAQ,CAAEpD,gBAAiB,CAC3B2C,SAAS,CAAC,QAAQ,CACnB,CAAC,CAGDhD,MAAM,CAACa,MAAM,CAAG,CAAC,eAChBnB,IAAA,QAAKsD,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEjD,MAAM,CAAC0D,GAAG,CAAErB,KAAK,eAChB7C,KAAA,QAAoBwD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC5CvD,IAAA,QAAKsD,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACnEvD,IAAA,QACEiE,GAAG,CAAEtB,KAAK,CAACX,OAAQ,CACnBkC,GAAG,CAAEvB,KAAK,CAACT,IAAK,CAChBoB,SAAS,CAAC,4BAA4B,CACvC,CAAC,CACC,CAAC,cAGNxD,KAAA,QAAKwD,SAAS,CAAC,6KAA6K,CAAAC,QAAA,eAC1LvD,IAAA,WACEwD,OAAO,CAAEA,CAAA,GAAM/C,eAAe,CAACkC,KAAK,CAAE,CACtCW,SAAS,CAAC,+DAA+D,CAAAC,QAAA,cAEzEvD,IAAA,CAACJ,GAAG,EAAC0D,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACnC,CAAC,cACTtD,IAAA,WACEwD,OAAO,CAAEA,CAAA,GAAMhB,WAAW,CAACG,KAAK,CAAChB,EAAE,CAAE,CACrC2B,SAAS,CAAC,gEAAgE,CAAAC,QAAA,cAE1EvD,IAAA,CAACL,CAAC,EAAC2D,SAAS,CAAC,oBAAoB,CAAE,CAAC,CAC9B,CAAC,EACN,CAAC,cAGNxD,KAAA,QAAKwD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDvD,IAAA,MAAGsD,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAEZ,KAAK,CAACT,IAAI,CAAI,CAAC,cACpDlC,IAAA,MAAAuD,QAAA,CAAIX,cAAc,CAACD,KAAK,CAACR,IAAI,CAAC,CAAI,CAAC,EAChC,CAAC,GA7BEQ,KAAK,CAAChB,EA8BX,CACN,CAAC,CACC,CACN,CAGAnB,YAAY,eACXR,IAAA,QAAKsD,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FzD,KAAA,QAAKwD,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5CvD,IAAA,WACEwD,OAAO,CAAEA,CAAA,GAAM/C,eAAe,CAAC,IAAI,CAAE,CACrC6C,SAAS,CAAC,2FAA2F,CAAAC,QAAA,cAErGvD,IAAA,CAACL,CAAC,EAAC2D,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACjC,CAAC,cACTtD,IAAA,QACEiE,GAAG,CAAEzD,YAAY,CAACwB,OAAQ,CAC1BkC,GAAG,CAAE1D,YAAY,CAAC0B,IAAK,CACvBoB,SAAS,CAAC,iDAAiD,CAC5D,CAAC,cACFxD,KAAA,QAAKwD,SAAS,CAAC,gEAAgE,CAAAC,QAAA,eAC7EvD,IAAA,MAAGsD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAE/C,YAAY,CAAC0B,IAAI,CAAI,CAAC,cAChElC,IAAA,MAAGsD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEX,cAAc,CAACpC,YAAY,CAAC2B,IAAI,CAAC,CAAI,CAAC,EACzE,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}