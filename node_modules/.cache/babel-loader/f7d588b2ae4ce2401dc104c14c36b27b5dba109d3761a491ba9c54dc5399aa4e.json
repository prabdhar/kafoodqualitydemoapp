{"ast":null,"code":"var _jsxFileName = \"/Users/prabdhar/CascadeProjects/windsurf-project/src/components/Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BarChart3, PieChart, TrendingUp, Download, Calendar, Filter, FileText, Users, DollarSign, Image, X, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reports = () => {\n  _s();\n  const [reportType, setReportType] = useState('overview');\n  const [dateRange, setDateRange] = useState('monthly');\n  const [selectedScheme, setSelectedScheme] = useState('all');\n  const [selectedSchool, setSelectedSchool] = useState('all');\n  const [selectedInspection, setSelectedInspection] = useState('all');\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n  const reportTypes = [{\n    id: 'overview',\n    name: 'Overview Report',\n    icon: BarChart3\n  }, {\n    id: 'gallery',\n    name: 'Photo Gallery',\n    icon: Image\n  }, {\n    id: 'financial',\n    name: 'Financial Report',\n    icon: DollarSign\n  }, {\n    id: 'beneficiary',\n    name: 'Beneficiary Report',\n    icon: Users\n  }, {\n    id: 'audit',\n    name: 'Audit Report',\n    icon: FileText\n  }];\n  const schemes = ['All Schemes', 'Pre-Matric Scholarship', 'Post-Matric Scholarship', 'Skill Development Program', 'Self Employment Scheme'];\n\n  // Available schools for filtering\n  const schools = ['All Schools', 'Government High School Bangalore North', 'Government Primary School Mysore', 'Government Higher Secondary School Hubli', 'Government Primary School Mangalore'];\n\n  // Available inspections for filtering\n  const inspections = ['All Inspections', 'Routine Inspections', 'Complaint-based Inspections', 'Follow-up Inspections', 'Surprise Inspections'];\n\n  // Sample data for category distribution\n  const categoryDistribution = [{\n    category: 'Food Quality',\n    percentage: 75\n  }, {\n    category: 'Hygiene',\n    percentage: 85\n  }, {\n    category: 'Safety Standards',\n    percentage: 90\n  }, {\n    category: 'Documentation',\n    percentage: 65\n  }, {\n    category: 'Staff Training',\n    percentage: 70\n  }];\n\n  // Sample food inspection reports data\n  const foodInspectionReports = [{\n    id: 1,\n    location: \"Government Primary School, Bangalore North\",\n    date: \"2024-01-15\",\n    inspector: \"Dr. Priya Sharma\",\n    rating: \"A+\",\n    photos: [{\n      url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBDbGVhbiBLaXRjaGVuIEltYWdlIC0tPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjBGOEZGIi8+CiAgPCEtLSBLaXRjaGVuIENvdW50ZXIgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjE0MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI0Q2RUFGOCIgcng9IjUiLz4KICA8IS0tIENvb2tpbmcgUG90cyAtLT4KICA8Y2lyY2xlIGN4PSI4MCIgY3k9IjEyMCIgcj0iMjAiIGZpbGw9IiM2Mzc1RjQiLz4KICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIxMjAiIHI9IjE4IiBmaWxsPSIjNDMzOENBIi8+CiAgPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTIwIiByPSIyMiIgZmlsbD0iIzM3MzBBMyIvPgogIDwhLS0gVmVnZXRhYmxlcyAtLT4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjgwIiByPSI4IiBmaWxsPSIjMTBCOTgxIi8+CiAgPGNpcmNsZSBjeD0iNzAiIGN5PSI3MCIgcj0iNiIgZmlsbD0iI0Y1OTcxNiIvPgogIDxjaXJjbGUgY3g9IjkwIiBjeT0iNzUiIHI9IjciIGZpbGw9IiNEQzI2MjYiLz4KICA8IS0tIFRpdGxlIC0tPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsZWFuIEtpdGNoZW48L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzM3NEY2OCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj5IeWdpZW5pYyBGb29kIFByZXBhcmF0aW9uPC90ZXh0Pgo8L3N2Zz4=\",\n      caption: \"Clean kitchen with proper utensils\"\n    }, {\n      url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBGcmVzaCBGb29kIEltYWdlIC0tPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRkVGN0VEIi8+CiAgPCEtLSBQbGF0ZSAtLT4KICA8ZWxsaXBzZSBjeD0iMTUwIiBjeT0iMTMwIiByeD0iODAiIHJ5PSI0MCIgZmlsbD0iI0ZGRkZGRiIgc3Ryb2tlPSIjRDFEOEUwIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8IS0tIFJpY2UgLS0+CiAgPGVsbGlwc2UgY3g9IjEyMCIgY3k9IjEyMCIgcng9IjI1IiByeT0iMTUiIGZpbGw9IiNGRkZGRkYiLz4KICA8IS0tIERhbCAtLT4KICA8ZWxsaXBzZSBjeD0iMTgwIiBjeT0iMTIwIiByeD0iMjAiIHJ5PSIxMiIgZmlsbD0iI0Y1OTcxNiIvPgogIDwhLS0gVmVnZXRhYmxlcyAtLT4KICA8ZWxsaXBzZSBjeD0iMTUwIiBjeT0iMTQwIiByeD0iMTUiIHJ5PSIxMCIgZmlsbD0iIzEwQjk4MSIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkZyZXNoIE1lYWw8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzM3NEY2OCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj5OdXRyaXRpb3VzIEJhbGFuY2VkIERpZXQ8L3RleHQ+Cjwvc3ZnPg==\",\n      caption: \"Nutritious balanced meal served\"\n    }],\n    findings: [\"Excellent hygiene standards\", \"Fresh ingredients used\", \"Proper food storage\"],\n    violations: []\n  }, {\n    id: 2,\n    location: \"Government High School, Mysore\",\n    date: \"2024-01-18\",\n    inspector: \"Mr. Rajesh Kumar\",\n    rating: \"B+\",\n    photos: [{\n      url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBTdG9yYWdlIEFyZWEgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGRkY3RUQiLz4KICA8IS0tIFNoZWx2ZXMgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjYwIiB3aWR0aD0iMjYwIiBoZWlnaHQ9IjE1IiBmaWxsPSIjOEI1Q0Y2Ii8+CiAgPHJlY3QgeD0iMjAiIHk9IjEwMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSIxNSIgZmlsbD0iIzhCNUNGNiIvPgogIDxyZWN0IHg9IjIwIiB5PSIxNDAiIHdpZHRoPSIyNjAiIGhlaWdodD0iMTUiIGZpbGw9IiM4QjVDRjYiLz4KICA8IS0tIEZvb2QgQ29udGFpbmVycyAtLT4KICA8cmVjdCB4PSI0MCIgeT0iNDAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMCIgZmlsbD0iI0Y5FEFBMCJ+CiAgPHJlY3QgeD0iMTAwIiB5PSI0MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkJCRjI0Ii8+CiAgPHJlY3QgeD0iMTYwIiB5PSI0MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkE4MDcyIi8+CiAgPCEtLSBUaXRsZSAtLT4KICA8dGV4dCB4PSIxNTAiIHk9IjMwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMUYyQTM3IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJib2xkIj5Gb29kIFN0b3JhZ2U8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIxODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzNzRGNjgiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+T3JnYW5pemVkIFN0b3JhZ2UgQXJlYTwvdGV4dD4KPC9zdmc+\",\n      caption: \"Well-organized food storage area\"\n    }, {\n      url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBXYXNoaW5nIEFyZWEgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRkY2RkYiLz4KICA8IS0tIFNpbmsgLS0+CiAgPHJlY3QgeD0iNTAiIHk9IjEwMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSI2MCIgZmlsbD0iI0Q2RUFGOCIgcng9IjEwIi8+CiAgPCEtLSBXYXRlciBUYXAgLS0+CiAgPHJlY3QgeD0iMTQwIiB5PSI4MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjNjM3NUY0Ii8+CiAgPCEtLSBXYXRlciBEcm9wcyAtLT4KICA8Y2lyY2xlIGN4PSIxNDUiIGN5PSIxMjAiIHI9IjMiIGZpbGw9IiMwNkI2RDQiLz4KICA8Y2lyY2xlIGN4PSIxNTUiIGN5PSIxMjUiIHI9IjIiIGZpbGw9IiMwNkI2RDQiLz4KICA8IS0tIFNvYXAgLS0+CiAgPGNpcmNsZSBjeD0iMjIwIiBjeT0iMTIwIiByPSIxMCIgZmlsbD0iI0Y5FEFBMCJ+CiAgPHRleHQgeD0iMTUwIiB5PSIzMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFGMkEzNyIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCI+V2FzaGluZyBBcmVhPC90ZXh0PgogIDx0ZXh0IHg9IjE1MCIgeT0iMTgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzc0RjY4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPkNsZWFuIFdhc2hpbmcgRmFjaWxpdGllczwvdGV4dD4KPC9zdmc+\",\n      caption: \"Clean washing facilities available\"\n    }],\n    findings: [\"Good storage practices\", \"Clean washing area\", \"Minor improvements needed\"],\n    violations: [\"Expired items found in storage\"]\n  }, {\n    id: 3,\n    location: \"Government School, Hubli\",\n    date: \"2024-01-20\",\n    inspector: \"Ms. Lakshmi Devi\",\n    rating: \"C\",\n    photos: [{\n      url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBJc3N1ZXMgRm91bmQgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGRUY3RUQiLz4KICA8IS0tIERpcnR5IFN1cmZhY2UgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjE0MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI0ZCQkYyNCIgcng9IjUiLz4KICA8IS0tIFNwb3RzIC0tPgogIDxjaXJjbGUgY3g9IjgwIiBjeT0iMTIwIiByPSI4IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMTEwIiByPSI2IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTI1IiByPSI3IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPCEtLSBXYXJuaW5nIFNpZ24gLS0+CiAgPHBvbHlnb24gcG9pbnRzPSIxNTAsNTAgMTMwLDkwIDE3MCw5MCIgZmlsbD0iI0Y1OTcxNiIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iNzgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZm9udC13ZWlnaHQ9ImJvbGQiPiE8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIzMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFGMkEzNyIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCI+SHlnaWVuZSBJc3N1ZXM8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIxODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzNzRGNjgiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+SW1wcm92ZW1lbnRzIE5lZWRlZDwvdGV4dD4KPC9zdmc+\",\n      caption: \"Hygiene issues identified\"\n    }, {\n      url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBDbGVhbmluZyBTdXBwbGllcyAtLT4KICA8cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI0VGRjZGRiIvPgogIDwhLS0gQ2xlYW5pbmcgQm90dGxlcyAtLT4KICA8cmVjdCB4PSI2MCIgeT0iMTAwIiB3aWR0aD0iMjAiIGhlaWdodD0iNjAiIGZpbGw9IiMxMEI5ODEiIHJ4PSI1Ii8+CiAgPHJlY3QgeD0iMTAwIiB5PSI5MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjcwIiBmaWxsPSIjMDZCNkQ0IiByeD0iNSIvPgogIDxyZWN0IHg9IjE0MCIgeT0iMTA1IiB3aWR0aD0iMjAiIGhlaWdodD0iNTUiIGZpbGw9IiNGNTk3MTYiIHJ4PSI1Ii8+CiAgPCEtLSBDbGVhbmluZyBDbG90aCAtLT4KICA8ZWxsaXBzZSBjeD0iMjAwIiBjeT0iMTMwIiByeD0iMzAiIHJ5PSIyMCIgZmlsbD0iI0ZCQkYyNCIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsZWFuaW5nIFN1cHBsaWVzPC90ZXh0PgogIDx0ZXh0IHg9IjE1MCIgeT0iMTgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzc0RjY4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPkFkZXF1YXRlIFN1cHBsaWVzIEF2YWlsYWJsZTwvdGV4dD4KPC9zdmc+\",\n      caption: \"Adequate cleaning supplies available\"\n    }],\n    findings: [\"Cleaning supplies available\", \"Staff training needed\"],\n    violations: [\"Poor surface cleanliness\", \"Inadequate hand washing facilities\"]\n  }];\n  const getSeverityColor = severity => {\n    switch (severity) {\n      case 'high':\n        return 'bg-red-100 text-red-800';\n      case 'medium':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'low':\n        return 'bg-green-100 text-green-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  const getFilteredInspections = () => {\n    let filtered = [...foodInspectionReports];\n\n    // Filter by school\n    if (selectedSchool !== 'All Schools') {\n      filtered = filtered.filter(report => report.location === selectedSchool);\n    }\n\n    // Filter by inspection type\n    if (selectedInspection !== 'All Inspections') {\n      const inspectionTypeMap = {\n        'Routine Inspections': 'routine',\n        'Complaint-based Inspections': 'complaint',\n        'Follow-up Inspections': 'follow-up',\n        'Surprise Inspections': 'surprise'\n      };\n      const inspectionType = inspectionTypeMap[selectedInspection];\n      // For demo purposes, we'll filter based on rating as a proxy for inspection type\n      if (inspectionType === 'routine') {\n        filtered = filtered.filter(report => ['A+', 'A', 'B+'].includes(report.rating));\n      } else if (inspectionType === 'complaint') {\n        filtered = filtered.filter(report => ['C', 'D'].includes(report.rating));\n      }\n    }\n    return filtered;\n  };\n  const generateReport = () => {\n    var _reportTypes$find;\n    // Generate comprehensive report including food inspection data\n    const selectedReportType = (_reportTypes$find = reportTypes.find(r => r.id === reportType)) === null || _reportTypes$find === void 0 ? void 0 : _reportTypes$find.name;\n    const filteredInspections = getFilteredInspections();\n    let reportData = {\n      type: selectedReportType,\n      dateRange: dateRange,\n      scheme: selectedScheme,\n      school: selectedSchool,\n      inspection: selectedInspection,\n      generatedAt: new Date().toLocaleString(),\n      summary: {\n        totalInspections: filteredInspections.length,\n        averageRating: calculateAverageRating(filteredInspections),\n        totalViolations: getTotalViolations(filteredInspections),\n        complianceRate: getComplianceRate(filteredInspections)\n      },\n      inspections: filteredInspections,\n      metrics: overviewData\n    };\n\n    // Create downloadable report\n    const reportContent = generateReportContent(reportData);\n    downloadReport(reportContent, `${selectedReportType}_${selectedSchool}_${selectedInspection}_${new Date().toISOString().split('T')[0]}.txt`);\n    alert(`✅ ${selectedReportType} generated successfully!\\nFiltered by: ${selectedSchool} | ${selectedInspection}\\nIncludes ${filteredInspections.length} food inspections with photos and detailed findings.`);\n  };\n  const calculateAverageRating = (inspections = foodInspectionReports) => {\n    const ratings = {\n      'A+': 4,\n      'A': 3.5,\n      'B+': 3,\n      'B': 2.5,\n      'C': 2,\n      'D': 1\n    };\n    const totalScore = inspections.reduce((sum, report) => sum + (ratings[report.rating] || 0), 0);\n    return inspections.length > 0 ? (totalScore / inspections.length).toFixed(1) : '0.0';\n  };\n  const getTotalViolations = (inspections = foodInspectionReports) => {\n    return inspections.reduce((total, report) => total + report.violations.length, 0);\n  };\n  const getComplianceRate = (inspections = foodInspectionReports) => {\n    if (inspections.length === 0) return '0.0';\n    const compliantReports = inspections.filter(report => report.violations.length === 0).length;\n    return (compliantReports / inspections.length * 100).toFixed(1);\n  };\n  const generateReportContent = data => {\n    return `\nFOOD TRANSPARENCY PORTAL - INSPECTION REPORT\n============================================\nReport Type: ${data.type}\nDate Range: ${data.dateRange}\nScheme: ${data.scheme}\nGenerated: ${data.generatedAt}\n\nEXECUTIVE SUMMARY\n================\nTotal Inspections: ${data.summary.totalInspections}\nAverage Rating: ${data.summary.averageRating}/4.0\nTotal Violations: ${data.summary.totalViolations}\nCompliance Rate: ${data.summary.complianceRate}%\n\nDETAILED INSPECTION REPORTS\n===========================\n${data.inspections.map((report, index) => `\n${index + 1}. ${report.location}\n   Date: ${report.date}\n   Inspector: ${report.inspector}\n   Rating: ${report.rating}\n   \n   Key Findings:\n   ${report.findings.map(finding => `   • ${finding}`).join('\\n')}\n   \n   Violations:\n   ${report.violations.length > 0 ? report.violations.map(violation => `   • ${violation}`).join('\\n') : '   • No violations found'}\n   \n   Photos: ${report.photos.length} inspection photos documented\n   ${report.photos.length > 0 ? report.photos.map((photo, idx) => `   - Photo ${idx + 1}: ${photo.name || `inspection_${idx + 1}.jpg`}`).join('\\n') : '   - No photos available'}\n`).join('\\n')}\n\nRECOMMENDATIONS\n===============\n• Continue monitoring schools with C ratings\n• Implement additional training for facilities with violations\n• Maintain excellent standards in A+ rated facilities\n• Regular follow-up inspections recommended\n\nReport generated by Food Transparency Portal - Social Welfare Department\n    `;\n  };\n  const downloadReport = (content, filename) => {\n    const blob = new Blob([content], {\n      type: 'text/plain'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n  const exportReport = format => {\n    var _reportTypes$find2;\n    const selectedReportType = (_reportTypes$find2 = reportTypes.find(r => r.id === reportType)) === null || _reportTypes$find2 === void 0 ? void 0 : _reportTypes$find2.name;\n    let reportData = {\n      type: selectedReportType,\n      dateRange: dateRange,\n      scheme: selectedScheme,\n      generatedAt: new Date().toLocaleString(),\n      summary: {\n        totalInspections: foodInspectionReports.length,\n        averageRating: calculateAverageRating(),\n        totalViolations: getTotalViolations(),\n        complianceRate: getComplianceRate()\n      },\n      inspections: foodInspectionReports,\n      metrics: overviewData\n    };\n    if (format === 'pdf') {\n      generatePDFReport(reportData);\n    } else if (format === 'excel') {\n      generateExcelReport(reportData);\n    } else if (format === 'csv') {\n      generateCSVReport(reportData);\n    }\n  };\n  const generatePDFReport = data => {\n    // Create HTML content for PDF\n    const htmlContent = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <meta charset=\"utf-8\">\n        <title>Food Transparency Portal - Inspection Report</title>\n        <style>\n            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\n            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }\n            .logo { font-size: 24px; font-weight: bold; color: #2563eb; }\n            .subtitle { color: #666; margin-top: 5px; }\n            .section { margin-bottom: 30px; }\n            .section-title { font-size: 18px; font-weight: bold; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }\n            .summary-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0; }\n            .summary-item { padding: 15px; background: #f8f9fa; border-radius: 5px; }\n            .summary-label { font-weight: bold; color: #666; }\n            .summary-value { font-size: 20px; font-weight: bold; color: #2563eb; }\n            .inspection { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; page-break-inside: avoid; }\n            .inspection-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n            .rating { padding: 5px 15px; border-radius: 20px; font-weight: bold; }\n            .rating-a { background: #dcfce7; color: #166534; }\n            .rating-b { background: #dbeafe; color: #1e40af; }\n            .rating-c { background: #fef3c7; color: #92400e; }\n            .findings { margin: 10px 0; }\n            .finding-item { margin: 5px 0; padding-left: 20px; }\n            .violation { color: #dc2626; }\n            .photo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 10px; }\n            .photo-item { border: 1px solid #ddd; border-radius: 5px; overflow: hidden; page-break-inside: avoid; }\n            .photo-item img { width: 100%; height: 120px; object-fit: cover; display: block; }\n            .photo-caption { padding: 8px; background: #f8f9fa; font-size: 12px; color: #666; text-align: center; }\n            .footer { margin-top: 50px; text-align: center; color: #666; font-size: 12px; }\n        </style>\n    </head>\n    <body>\n        <div class=\"header\">\n            <div class=\"logo\">🏛️ Food Transparency Portal</div>\n            <div class=\"subtitle\">Social Welfare Department - Karnataka Government</div>\n            <div style=\"margin-top: 15px;\">\n                <strong>${data.type}</strong> | ${data.dateRange} | Generated: ${data.generatedAt}\n            </div>\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">📊 Executive Summary</div>\n            <div class=\"summary-grid\">\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Total Inspections</div>\n                    <div class=\"summary-value\">${data.summary.totalInspections}</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Average Rating</div>\n                    <div class=\"summary-value\">${data.summary.averageRating}/4.0</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Total Violations</div>\n                    <div class=\"summary-value\">${data.summary.totalViolations}</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Compliance Rate</div>\n                    <div class=\"summary-value\">${data.summary.complianceRate}%</div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">🏫 Detailed Inspection Reports</div>\n            ${data.inspections.map((report, index) => `\n                <div class=\"inspection\">\n                    <div class=\"inspection-header\">\n                        <div>\n                            <h3>${report.location}</h3>\n                            <p>Inspector: ${report.inspector} | Date: ${report.date}</p>\n                        </div>\n                        <div class=\"rating rating-${report.rating.toLowerCase().replace('+', '')}\">\n                            Rating: ${report.rating}\n                        </div>\n                    </div>\n                    \n                    <div class=\"findings\">\n                        <strong>📋 Key Findings:</strong>\n                        ${report.findings.map(finding => `<div class=\"finding-item\">• ${finding}</div>`).join('')}\n                    </div>\n                    \n                    <div class=\"findings\">\n                        <strong>⚠️ Violations:</strong>\n                        ${report.violations.length > 0 ? report.violations.map(violation => `<div class=\"finding-item violation\">• ${violation}</div>`).join('') : '<div class=\"finding-item\">• No violations found ✅</div>'}\n                    </div>\n                    \n                    <div style=\"margin-top: 15px;\">\n                        <strong>📸 Inspection Photos (${report.photos.length}):</strong>\n                        ${report.photos.length > 0 ? `\n                            <div class=\"photo-grid\">\n                                ${report.photos.map((photo, photoIndex) => `\n                                    <div class=\"photo-item\">\n                                        <img src=\"${photo.preview || photo.url || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik04NSA2NUw5NSA3NUwxMTUgNTVMMTM1IDc1VjEwNUg2NVY3NUw4NSA2NVoiIGZpbGw9IiNEMUQ1REIiLz4KPGNpcmNsZSBjeD0iODAiIGN5PSI2MCIgcj0iNSIgZmlsbD0iI0QxRDVEQiIvPgo8L3N2Zz4K'}\" \n                                             alt=\"Inspection Photo ${photoIndex + 1}\">\n                                        <div class=\"photo-caption\">\n                                            Photo ${photoIndex + 1}: ${photo.name || `inspection_${photoIndex + 1}.jpg`}\n                                            <br><small>${photo.size ? (photo.size / 1024).toFixed(1) + ' KB' : ''}</small>\n                                        </div>\n                                    </div>\n                                `).join('')}\n                            </div>\n                        ` : '<div style=\"color: #666; font-style: italic; margin-top: 5px;\">No photos available for this inspection</div>'}\n                    </div>\n                </div>\n            `).join('')}\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">💡 Recommendations</div>\n            <div class=\"finding-item\">• Continue monitoring schools with C ratings</div>\n            <div class=\"finding-item\">• Implement additional training for facilities with violations</div>\n            <div class=\"finding-item\">• Maintain excellent standards in A+ rated facilities</div>\n            <div class=\"finding-item\">• Schedule regular follow-up inspections as recommended</div>\n            <div class=\"finding-item\">• Ensure proper documentation and photo evidence for all inspections</div>\n        </div>\n\n        <div class=\"footer\">\n            Report generated by Food Transparency Portal - Social Welfare Department<br>\n            Karnataka Government | ${new Date().getFullYear()}\n        </div>\n    </body>\n    </html>\n    `;\n\n    // Convert HTML to PDF using browser's print functionality\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(htmlContent);\n    printWindow.document.close();\n\n    // Wait for content to load then trigger print\n    setTimeout(() => {\n      printWindow.print();\n      printWindow.close();\n    }, 1000);\n    alert(`✅ PDF report generated successfully!\\nUse your browser's print dialog to save as PDF.\\nIncludes ${data.summary.totalInspections} food inspections with detailed findings.`);\n  };\n  const generateExcelReport = data => {\n    // Create CSV content that can be opened in Excel\n    let csvContent = \"Food Transparency Portal - Inspection Report\\\\n\\\\n\";\n    csvContent += `Report Type,${data.type}\\\\n`;\n    csvContent += `Date Range,${data.dateRange}\\\\n`;\n    csvContent += `Generated,${data.generatedAt}\\\\n\\\\n`;\n    csvContent += \"SUMMARY\\\\n\";\n    csvContent += `Total Inspections,${data.summary.totalInspections}\\\\n`;\n    csvContent += `Average Rating,${data.summary.averageRating}/4.0\\\\n`;\n    csvContent += `Total Violations,${data.summary.totalViolations}\\\\n`;\n    csvContent += `Compliance Rate,${data.summary.complianceRate}%\\\\n\\\\n`;\n    csvContent += \"DETAILED INSPECTIONS\\\\n\";\n    csvContent += \"Location,Date,Inspector,Rating,Findings,Violations,Photos\\\\n\";\n    data.inspections.forEach(report => {\n      csvContent += `\"${report.location}\",\"${report.date}\",\"${report.inspector}\",\"${report.rating}\",\"${report.findings.join('; ')}\",\"${report.violations.join('; ') || 'None'}\",\"${report.photos.length}\"\\\\n`;\n    });\n    const blob = new Blob([csvContent], {\n      type: 'text/csv'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${data.type}_${data.dateRange}_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n    alert(`✅ Excel report downloaded successfully!\\nFile: ${data.type}_${data.dateRange}_${new Date().toISOString().split('T')[0]}.csv`);\n  };\n  const generateCSVReport = data => {\n    let csvContent = \"Location,Date,Inspector,Rating,Findings,Violations,Photos,Photo_Names\\n\";\n    data.inspections.forEach(report => {\n      const findings = report.findings.join('; ');\n      const violations = report.violations.join('; ') || 'None';\n      const photoNames = report.photos.map(photo => photo.name || 'unnamed').join('; ');\n      csvContent += `\"${report.location}\",\"${report.date}\",\"${report.inspector}\",\"${report.rating}\",\"${findings}\",\"${violations}\",\"${report.photos.length}\",\"${photoNames}\"\\n`;\n    });\n    const blob = new Blob([csvContent], {\n      type: 'text/csv'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `inspection_report_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n  const renderPhotoGallery = () => {\n    const filteredInspections = getFilteredInspections();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: \"Inspection Photo Gallery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"View recent inspection photos from schools\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full md:w-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Filter by School\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedSchool,\n              onChange: e => setSelectedSchool(e.target.value),\n              className: \"w-full md:w-64 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: schools.map(school => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: school,\n                children: school\n              }, school, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full md:w-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Inspection Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedInspection,\n              onChange: e => setSelectedInspection(e.target.value),\n              className: \"w-full md:w-64 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: inspections.map(inspection => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: inspection,\n                children: inspection\n              }, inspection, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this), filteredInspections.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12 bg-white rounded-lg shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"No inspection photos found matching the selected filters.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: filteredInspections.map(inspection => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative h-48 bg-gray-100\",\n            children: [inspection.photos.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: inspection.photos[0].url,\n              alt: inspection.photos[0].caption || 'Inspection photo',\n              className: \"w-full h-full object-cover cursor-pointer\",\n              onClick: () => setSelectedPhoto({\n                ...inspection.photos[0],\n                school: inspection.location,\n                date: inspection.date\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full flex items-center justify-center text-gray-400\",\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                size: 48\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded\",\n              children: [inspection.photos.length, \" \", inspection.photos.length === 1 ? 'photo' : 'photos']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 left-2 bg-white bg-opacity-90 px-2 py-1 rounded-md shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-semibold ${inspection.rating === 'A+' ? 'text-green-600' : inspection.rating === 'B+' ? 'text-blue-600' : 'text-yellow-600'}`,\n                children: inspection.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-800 mb-1 truncate\",\n              children: inspection.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mb-2\",\n              children: [new Date(inspection.date).toLocaleDateString(), \" \\u2022 \", inspection.inspector]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2 mt-2\",\n              children: [inspection.findings.slice(0, 2).map((finding, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full\",\n                children: finding.split(':')[0]\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 23\n              }, this)), inspection.findings.length > 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full\",\n                children: [\"+\", inspection.findings.length - 2, \" more\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 17\n          }, this)]\n        }, inspection.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this);\n  };\n  const PhotoModal = ({\n    photo,\n    onClose,\n    onNext,\n    onPrev,\n    hasNext,\n    hasPrev\n  }) => {\n    if (!photo) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"absolute top-4 right-4 text-white hover:text-gray-300\",\n        \"aria-label\": \"Close\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 9\n      }, this), hasPrev && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onPrev,\n        className: \"absolute left-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all\",\n        \"aria-label\": \"Previous photo\",\n        children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative max-w-4xl w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: photo.url,\n          alt: photo.caption || 'Inspection photo',\n          className: \"max-h-[80vh] w-auto mx-auto object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-white text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold mb-1\",\n            children: photo.school\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-300\",\n            children: photo.caption\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-400 mt-2\",\n            children: new Date(photo.date).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 9\n      }, this), hasNext && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onNext,\n        className: \"absolute right-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all\",\n        \"aria-label\": \"Next photo\",\n        children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 7\n    }, this);\n  };\n  const overviewData = {\n    totalBeneficiaries: 12847,\n    totalSchemes: 24,\n    totalBudget: 25000000,\n    utilizedBudget: 21500000,\n    completedAudits: 156,\n    pendingAudits: 23\n  };\n  const schemePerformance = [{\n    name: 'Pre-Matric Scholarship',\n    beneficiaries: 4250,\n    budget: 5000000,\n    utilization: 84,\n    completion: 78\n  }, {\n    name: 'Post-Matric Scholarship',\n    beneficiaries: 3200,\n    budget: 8000000,\n    utilization: 89,\n    completion: 89\n  }, {\n    name: 'Skill Development',\n    beneficiaries: 1800,\n    budget: 3500000,\n    utilization: 80,\n    completion: 92\n  }, {\n    name: 'Self Employment',\n    beneficiaries: 950,\n    budget: 6000000,\n    utilization: 75,\n    completion: 86\n  }];\n  const monthlyTrends = [{\n    month: 'Jan',\n    beneficiaries: 1200,\n    budget: 2100000,\n    audits: 12\n  }, {\n    month: 'Feb',\n    beneficiaries: 1350,\n    budget: 2300000,\n    audits: 15\n  }, {\n    month: 'Mar',\n    beneficiaries: 1180,\n    budget: 2000000,\n    audits: 11\n  }, {\n    month: 'Apr',\n    beneficiaries: 1420,\n    budget: 2500000,\n    audits: 18\n  }, {\n    month: 'May',\n    beneficiaries: 1380,\n    budget: 2400000,\n    audits: 16\n  }, {\n    month: 'Jun',\n    beneficiaries: 1500,\n    budget: 2600000,\n    audits: 20\n  }];\n  const auditFindings = [{\n    type: 'Compliance Issues',\n    count: 8,\n    severity: 'medium'\n  }, {\n    type: 'Documentation Gaps',\n    count: 15,\n    severity: 'low'\n  }, {\n    type: 'Financial Irregularities',\n    count: 3,\n    severity: 'high'\n  }, {\n    type: 'Process Improvements',\n    count: 22,\n    severity: 'low'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-gray-50 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-2\",\n        children: \"Reports & Analytics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Generate comprehensive reports and analyze scheme performance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-4 mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: reportTypes.map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setReportType(type.id),\n          className: `flex items-center px-4 py-2 rounded-md transition-colors ${reportType === type.id ? 'bg-blue-100 text-blue-700 font-medium' : 'text-gray-600 hover:bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(type.icon, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this), type.name]\n        }, type.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [reportType === 'overview' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-gray-900 mb-4\",\n            children: \"Category Distribution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: categoryDistribution.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: category.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: [category.percentage, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-600 h-2.5 rounded-full\",\n                  style: {\n                    width: `${category.percentage}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 21\n              }, this)]\n            }, category.category, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-gray-900 mb-4\",\n            children: \"Recent Inspections\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: foodInspectionReports.map(report => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b pb-4 last:border-0 last:pb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900\",\n                  children: report.location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 text-xs rounded-full ${report.rating === 'A+' ? 'bg-green-100 text-green-800' : report.rating === 'B+' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'}`,\n                  children: report.rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [new Date(report.date).toLocaleDateString(), \" \\u2022 \", report.inspector]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 21\n              }, this), report.photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 flex space-x-2 overflow-x-auto pb-2\",\n                children: [report.photos.slice(0, 3).map((photo, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 w-20 h-20 bg-gray-100 rounded overflow-hidden\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: photo.url,\n                    alt: photo.caption,\n                    className: \"w-full h-full object-cover\",\n                    onClick: () => setSelectedPhoto({\n                      ...photo,\n                      school: report.location,\n                      date: report.date\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 733,\n                    columnNumber: 29\n                  }, this)\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 27\n                }, this)), report.photos.length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 w-20 h-20 bg-gray-100 rounded flex items-center justify-center text-gray-500 text-sm\",\n                  children: [\"+\", report.photos.length - 3, \" more\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 742,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 23\n              }, this)]\n            }, report.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 11\n      }, this), reportType === 'gallery' && renderPhotoGallery(), reportType === 'financial' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-gray-900 mb-4\",\n          children: \"Financial Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Financial reports will be displayed here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 11\n      }, this), reportType === 'beneficiary' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-gray-900 mb-4\",\n          children: \"Beneficiary Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Beneficiary reports will be displayed here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 11\n      }, this), reportType === 'audit' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-gray-900 mb-4\",\n          children: \"Audit Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Audit reports will be displayed here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 7\n    }, this), selectedPhoto && /*#__PURE__*/_jsxDEV(PhotoModal, {\n      photo: selectedPhoto,\n      onClose: () => setSelectedPhoto(null),\n      onNext: () => {\n        // Find the next photo in the current inspection\n        const currentInspection = foodInspectionReports.find(inspection => inspection.location === selectedPhoto.school);\n        if (currentInspection) {\n          const currentIndex = currentInspection.photos.findIndex(p => p.caption === selectedPhoto.caption);\n          if (currentIndex < currentInspection.photos.length - 1) {\n            setSelectedPhoto({\n              ...currentInspection.photos[currentIndex + 1],\n              school: currentInspection.location,\n              date: currentInspection.date\n            });\n          }\n        }\n      },\n      onPrev: () => {\n        // Find the previous photo in the current inspection\n        const currentInspection = foodInspectionReports.find(inspection => inspection.location === selectedPhoto.school);\n        if (currentInspection) {\n          const currentIndex = currentInspection.photos.findIndex(p => p.caption === selectedPhoto.caption);\n          if (currentIndex > 0) {\n            setSelectedPhoto({\n              ...currentInspection.photos[currentIndex - 1],\n              school: currentInspection.location,\n              date: currentInspection.date\n            });\n          }\n        }\n      },\n      hasNext: true,\n      hasPrev: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 659,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"OD3VlZNczou55I2gnyBNxy5P5qY=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","BarChart3","PieChart","TrendingUp","Download","Calendar","Filter","FileText","Users","DollarSign","Image","X","ChevronLeft","ChevronRight","jsxDEV","_jsxDEV","Reports","_s","reportType","setReportType","dateRange","setDateRange","selectedScheme","setSelectedScheme","selectedSchool","setSelectedSchool","selectedInspection","setSelectedInspection","selectedPhoto","setSelectedPhoto","reportTypes","id","name","icon","schemes","schools","inspections","categoryDistribution","category","percentage","foodInspectionReports","location","date","inspector","rating","photos","url","caption","findings","violations","getSeverityColor","severity","getFilteredInspections","filtered","filter","report","inspectionTypeMap","inspectionType","includes","generateReport","_reportTypes$find","selectedReportType","find","r","filteredInspections","reportData","type","scheme","school","inspection","generatedAt","Date","toLocaleString","summary","totalInspections","length","averageRating","calculateAverageRating","totalViolations","getTotalViolations","complianceRate","getComplianceRate","metrics","overviewData","reportContent","generateReportContent","downloadReport","toISOString","split","alert","ratings","totalScore","reduce","sum","toFixed","total","compliantReports","data","map","index","finding","join","violation","photo","idx","content","filename","blob","Blob","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","exportReport","format","_reportTypes$find2","generatePDFReport","generateExcelReport","generateCSVReport","htmlContent","toLowerCase","replace","photoIndex","preview","size","getFullYear","printWindow","open","write","close","setTimeout","print","csvContent","forEach","photoNames","renderPhotoGallery","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","src","alt","onClick","toLocaleDateString","slice","PhotoModal","onClose","onNext","onPrev","hasNext","hasPrev","totalBeneficiaries","totalSchemes","totalBudget","utilizedBudget","completedAudits","pendingAudits","schemePerformance","beneficiaries","budget","utilization","completion","monthlyTrends","month","audits","auditFindings","count","style","width","currentInspection","currentIndex","findIndex","p","_c","$RefreshReg$"],"sources":["/Users/prabdhar/CascadeProjects/windsurf-project/src/components/Reports.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { BarChart3, PieChart, TrendingUp, Download, Calendar, Filter, FileText, Users, DollarSign, Image, X, ChevronLeft, ChevronRight } from 'lucide-react';\n\nconst Reports = () => {\n  const [reportType, setReportType] = useState('overview');\n  const [dateRange, setDateRange] = useState('monthly');\n  const [selectedScheme, setSelectedScheme] = useState('all');\n  const [selectedSchool, setSelectedSchool] = useState('all');\n  const [selectedInspection, setSelectedInspection] = useState('all');\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n\n  const reportTypes = [\n    { id: 'overview', name: 'Overview Report', icon: BarChart3 },\n    { id: 'gallery', name: 'Photo Gallery', icon: Image },\n    { id: 'financial', name: 'Financial Report', icon: DollarSign },\n    { id: 'beneficiary', name: 'Beneficiary Report', icon: Users },\n    { id: 'audit', name: 'Audit Report', icon: FileText }\n  ];\n\n  const schemes = ['All Schemes', 'Pre-Matric Scholarship', 'Post-Matric Scholarship', 'Skill Development Program', 'Self Employment Scheme'];\n\n  // Available schools for filtering\n  const schools = [\n    'All Schools',\n    'Government High School Bangalore North',\n    'Government Primary School Mysore', \n    'Government Higher Secondary School Hubli',\n    'Government Primary School Mangalore'\n  ];\n\n  // Available inspections for filtering\n  const inspections = [\n    'All Inspections',\n    'Routine Inspections',\n    'Complaint-based Inspections',\n    'Follow-up Inspections',\n    'Surprise Inspections'\n  ];\n\n  // Sample data for category distribution\n  const categoryDistribution = [\n    { category: 'Food Quality', percentage: 75 },\n    { category: 'Hygiene', percentage: 85 },\n    { category: 'Safety Standards', percentage: 90 },\n    { category: 'Documentation', percentage: 65 },\n    { category: 'Staff Training', percentage: 70 }\n  ];\n\n  // Sample food inspection reports data\n  const foodInspectionReports = [\n    {\n      id: 1,\n      location: \"Government Primary School, Bangalore North\",\n      date: \"2024-01-15\",\n      inspector: \"Dr. Priya Sharma\",\n      rating: \"A+\",\n      photos: [\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBDbGVhbiBLaXRjaGVuIEltYWdlIC0tPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjBGOEZGIi8+CiAgPCEtLSBLaXRjaGVuIENvdW50ZXIgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjE0MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI0Q2RUFGOCIgcng9IjUiLz4KICA8IS0tIENvb2tpbmcgUG90cyAtLT4KICA8Y2lyY2xlIGN4PSI4MCIgY3k9IjEyMCIgcj0iMjAiIGZpbGw9IiM2Mzc1RjQiLz4KICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIxMjAiIHI9IjE4IiBmaWxsPSIjNDMzOENBIi8+CiAgPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTIwIiByPSIyMiIgZmlsbD0iIzM3MzBBMyIvPgogIDwhLS0gVmVnZXRhYmxlcyAtLT4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjgwIiByPSI4IiBmaWxsPSIjMTBCOTgxIi8+CiAgPGNpcmNsZSBjeD0iNzAiIGN5PSI3MCIgcj0iNiIgZmlsbD0iI0Y1OTcxNiIvPgogIDxjaXJjbGUgY3g9IjkwIiBjeT0iNzUiIHI9IjciIGZpbGw9IiNEQzI2MjYiLz4KICA8IS0tIFRpdGxlIC0tPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsZWFuIEtpdGNoZW48L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzM3NEY2OCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj5IeWdpZW5pYyBGb29kIFByZXBhcmF0aW9uPC90ZXh0Pgo8L3N2Zz4=\",\n          caption: \"Clean kitchen with proper utensils\"\n        },\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBGcmVzaCBGb29kIEltYWdlIC0tPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRkVGN0VEIi8+CiAgPCEtLSBQbGF0ZSAtLT4KICA8ZWxsaXBzZSBjeD0iMTUwIiBjeT0iMTMwIiByeD0iODAiIHJ5PSI0MCIgZmlsbD0iI0ZGRkZGRiIgc3Ryb2tlPSIjRDFEOEUwIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8IS0tIFJpY2UgLS0+CiAgPGVsbGlwc2UgY3g9IjEyMCIgY3k9IjEyMCIgcng9IjI1IiByeT0iMTUiIGZpbGw9IiNGRkZGRkYiLz4KICA8IS0tIERhbCAtLT4KICA8ZWxsaXBzZSBjeD0iMTgwIiBjeT0iMTIwIiByeD0iMjAiIHJ5PSIxMiIgZmlsbD0iI0Y1OTcxNiIvPgogIDwhLS0gVmVnZXRhYmxlcyAtLT4KICA8ZWxsaXBzZSBjeD0iMTUwIiBjeT0iMTQwIiByeD0iMTUiIHJ5PSIxMCIgZmlsbD0iIzEwQjk4MSIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkZyZXNoIE1lYWw8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzM3NEY2OCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIj5OdXRyaXRpb3VzIEJhbGFuY2VkIERpZXQ8L3RleHQ+Cjwvc3ZnPg==\",\n          caption: \"Nutritious balanced meal served\"\n        }\n      ],\n      findings: [\"Excellent hygiene standards\", \"Fresh ingredients used\", \"Proper food storage\"],\n      violations: []\n    },\n    {\n      id: 2,\n      location: \"Government High School, Mysore\",\n      date: \"2024-01-18\",\n      inspector: \"Mr. Rajesh Kumar\",\n      rating: \"B+\",\n      photos: [\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBTdG9yYWdlIEFyZWEgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGRkY3RUQiLz4KICA8IS0tIFNoZWx2ZXMgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjYwIiB3aWR0aD0iMjYwIiBoZWlnaHQ9IjE1IiBmaWxsPSIjOEI1Q0Y2Ii8+CiAgPHJlY3QgeD0iMjAiIHk9IjEwMCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSIxNSIgZmlsbD0iIzhCNUNGNiIvPgogIDxyZWN0IHg9IjIwIiB5PSIxNDAiIHdpZHRoPSIyNjAiIGhlaWdodD0iMTUiIGZpbGw9IiM4QjVDRjYiLz4KICA8IS0tIEZvb2QgQ29udGFpbmVycyAtLT4KICA8cmVjdCB4PSI0MCIgeT0iNDAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMCIgZmlsbD0iI0Y5FEFBMCJ+CiAgPHJlY3QgeD0iMTAwIiB5PSI0MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkJCRjI0Ii8+CiAgPHJlY3QgeD0iMTYwIiB5PSI0MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkE4MDcyIi8+CiAgPCEtLSBUaXRsZSAtLT4KICA8dGV4dCB4PSIxNTAiIHk9IjMwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMUYyQTM3IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJib2xkIj5Gb29kIFN0b3JhZ2U8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIxODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzNzRGNjgiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+T3JnYW5pemVkIFN0b3JhZ2UgQXJlYTwvdGV4dD4KPC9zdmc+\",\n          caption: \"Well-organized food storage area\"\n        },\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBXYXNoaW5nIEFyZWEgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRkY2RkYiLz4KICA8IS0tIFNpbmsgLS0+CiAgPHJlY3QgeD0iNTAiIHk9IjEwMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSI2MCIgZmlsbD0iI0Q2RUFGOCIgcng9IjEwIi8+CiAgPCEtLSBXYXRlciBUYXAgLS0+CiAgPHJlY3QgeD0iMTQwIiB5PSI4MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjNjM3NUY0Ii8+CiAgPCEtLSBXYXRlciBEcm9wcyAtLT4KICA8Y2lyY2xlIGN4PSIxNDUiIGN5PSIxMjAiIHI9IjMiIGZpbGw9IiMwNkI2RDQiLz4KICA8Y2lyY2xlIGN4PSIxNTUiIGN5PSIxMjUiIHI9IjIiIGZpbGw9IiMwNkI2RDQiLz4KICA8IS0tIFNvYXAgLS0+CiAgPGNpcmNsZSBjeD0iMjIwIiBjeT0iMTIwIiByPSIxMCIgZmlsbD0iI0Y5FEFBMCJ+CiAgPHRleHQgeD0iMTUwIiB5PSIzMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFGMkEzNyIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCI+V2FzaGluZyBBcmVhPC90ZXh0PgogIDx0ZXh0IHg9IjE1MCIgeT0iMTgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzc0RjY4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPkNsZWFuIFdhc2hpbmcgRmFjaWxpdGllczwvdGV4dD4KPC9zdmc+\",\n          caption: \"Clean washing facilities available\"\n        }\n      ],\n      findings: [\"Good storage practices\", \"Clean washing area\", \"Minor improvements needed\"],\n      violations: [\"Expired items found in storage\"]\n    },\n    {\n      id: 3,\n      location: \"Government School, Hubli\",\n      date: \"2024-01-20\",\n      inspector: \"Ms. Lakshmi Devi\",\n      rating: \"C\",\n      photos: [\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBJc3N1ZXMgRm91bmQgLS0+CiAgPHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNGRUY3RUQiLz4KICA8IS0tIERpcnR5IFN1cmZhY2UgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjE0MCIgd2lkdGg9IjI2MCIgaGVpZ2h0PSI0MCIgZmlsbD0iI0ZCQkYyNCIgcng9IjUiLz4KICA8IS0tIFNwb3RzIC0tPgogIDxjaXJjbGUgY3g9IjgwIiBjeT0iMTIwIiByPSI4IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMTEwIiByPSI2IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTI1IiByPSI3IiBmaWxsPSIjRjU5NzE2Ii8+CiAgPCEtLSBXYXJuaW5nIFNpZ24gLS0+CiAgPHBvbHlnb24gcG9pbnRzPSIxNTAsNTAgMTMwLDkwIDE3MCw5MCIgZmlsbD0iI0Y1OTcxNiIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iNzgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZm9udC13ZWlnaHQ9ImJvbGQiPiE8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIzMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzFGMkEzNyIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCI+SHlnaWVuZSBJc3N1ZXM8L3RleHQ+CiAgPHRleHQgeD0iMTUwIiB5PSIxODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMzNzRGNjgiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+SW1wcm92ZW1lbnRzIE5lZWRlZDwvdGV4dD4KPC9zdmc+\",\n          caption: \"Hygiene issues identified\"\n        },\n        {\n          url: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBDbGVhbmluZyBTdXBwbGllcyAtLT4KICA8cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI0VGRjZGRiIvPgogIDwhLS0gQ2xlYW5pbmcgQm90dGxlcyAtLT4KICA8cmVjdCB4PSI2MCIgeT0iMTAwIiB3aWR0aD0iMjAiIGhlaWdodD0iNjAiIGZpbGw9IiMxMEI5ODEiIHJ4PSI1Ii8+CiAgPHJlY3QgeD0iMTAwIiB5PSI5MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjcwIiBmaWxsPSIjMDZCNkQ0IiByeD0iNSIvPgogIDxyZWN0IHg9IjE0MCIgeT0iMTA1IiB3aWR0aD0iMjAiIGhlaWdodD0iNTUiIGZpbGw9IiNGNTk3MTYiIHJ4PSI1Ii8+CiAgPCEtLSBDbGVhbmluZyBDbG90aCAtLT4KICA8ZWxsaXBzZSBjeD0iMjAwIiBjeT0iMTMwIiByeD0iMzAiIHJ5PSIyMCIgZmlsbD0iI0ZCQkYyNCIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxRjJBMzciIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPkNsZWFuaW5nIFN1cHBsaWVzPC90ZXh0PgogIDx0ZXh0IHg9IjE1MCIgeT0iMTgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMzc0RjY4IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPkFkZXF1YXRlIFN1cHBsaWVzIEF2YWlsYWJsZTwvdGV4dD4KPC9zdmc+\",\n          caption: \"Adequate cleaning supplies available\"\n        }\n      ],\n      findings: [\"Cleaning supplies available\", \"Staff training needed\"],\n      violations: [\"Poor surface cleanliness\", \"Inadequate hand washing facilities\"]\n    }\n  ];\n\n  const getSeverityColor = (severity) => {\n    switch (severity) {\n      case 'high': return 'bg-red-100 text-red-800';\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\n      case 'low': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getFilteredInspections = () => {\n    let filtered = [...foodInspectionReports];\n    \n    // Filter by school\n    if (selectedSchool !== 'All Schools') {\n      filtered = filtered.filter(report => report.location === selectedSchool);\n    }\n    \n    // Filter by inspection type\n    if (selectedInspection !== 'All Inspections') {\n      const inspectionTypeMap = {\n        'Routine Inspections': 'routine',\n        'Complaint-based Inspections': 'complaint',\n        'Follow-up Inspections': 'follow-up',\n        'Surprise Inspections': 'surprise'\n      };\n      const inspectionType = inspectionTypeMap[selectedInspection];\n      // For demo purposes, we'll filter based on rating as a proxy for inspection type\n      if (inspectionType === 'routine') {\n        filtered = filtered.filter(report => ['A+', 'A', 'B+'].includes(report.rating));\n      } else if (inspectionType === 'complaint') {\n        filtered = filtered.filter(report => ['C', 'D'].includes(report.rating));\n      }\n    }\n    \n    return filtered;\n  };\n\n  const generateReport = () => {\n    // Generate comprehensive report including food inspection data\n    const selectedReportType = reportTypes.find(r => r.id === reportType)?.name;\n    const filteredInspections = getFilteredInspections();\n    \n    let reportData = {\n      type: selectedReportType,\n      dateRange: dateRange,\n      scheme: selectedScheme,\n      school: selectedSchool,\n      inspection: selectedInspection,\n      generatedAt: new Date().toLocaleString(),\n      summary: {\n        totalInspections: filteredInspections.length,\n        averageRating: calculateAverageRating(filteredInspections),\n        totalViolations: getTotalViolations(filteredInspections),\n        complianceRate: getComplianceRate(filteredInspections)\n      },\n      inspections: filteredInspections,\n      metrics: overviewData\n    };\n\n    // Create downloadable report\n    const reportContent = generateReportContent(reportData);\n    downloadReport(reportContent, `${selectedReportType}_${selectedSchool}_${selectedInspection}_${new Date().toISOString().split('T')[0]}.txt`);\n    \n    alert(`✅ ${selectedReportType} generated successfully!\\nFiltered by: ${selectedSchool} | ${selectedInspection}\\nIncludes ${filteredInspections.length} food inspections with photos and detailed findings.`);\n  };\n\n  const calculateAverageRating = (inspections = foodInspectionReports) => {\n    const ratings = { 'A+': 4, 'A': 3.5, 'B+': 3, 'B': 2.5, 'C': 2, 'D': 1 };\n    const totalScore = inspections.reduce((sum, report) => sum + (ratings[report.rating] || 0), 0);\n    return inspections.length > 0 ? (totalScore / inspections.length).toFixed(1) : '0.0';\n  };\n\n  const getTotalViolations = (inspections = foodInspectionReports) => {\n    return inspections.reduce((total, report) => total + report.violations.length, 0);\n  };\n\n  const getComplianceRate = (inspections = foodInspectionReports) => {\n    if (inspections.length === 0) return '0.0';\n    const compliantReports = inspections.filter(report => report.violations.length === 0).length;\n    return ((compliantReports / inspections.length) * 100).toFixed(1);\n  };\n\n  const generateReportContent = (data) => {\n    return `\nFOOD TRANSPARENCY PORTAL - INSPECTION REPORT\n============================================\nReport Type: ${data.type}\nDate Range: ${data.dateRange}\nScheme: ${data.scheme}\nGenerated: ${data.generatedAt}\n\nEXECUTIVE SUMMARY\n================\nTotal Inspections: ${data.summary.totalInspections}\nAverage Rating: ${data.summary.averageRating}/4.0\nTotal Violations: ${data.summary.totalViolations}\nCompliance Rate: ${data.summary.complianceRate}%\n\nDETAILED INSPECTION REPORTS\n===========================\n${data.inspections.map((report, index) => `\n${index + 1}. ${report.location}\n   Date: ${report.date}\n   Inspector: ${report.inspector}\n   Rating: ${report.rating}\n   \n   Key Findings:\n   ${report.findings.map(finding => `   • ${finding}`).join('\\n')}\n   \n   Violations:\n   ${report.violations.length > 0 ? report.violations.map(violation => `   • ${violation}`).join('\\n') : '   • No violations found'}\n   \n   Photos: ${report.photos.length} inspection photos documented\n   ${report.photos.length > 0 ? report.photos.map((photo, idx) => `   - Photo ${idx + 1}: ${photo.name || `inspection_${idx + 1}.jpg`}`).join('\\n') : '   - No photos available'}\n`).join('\\n')}\n\nRECOMMENDATIONS\n===============\n• Continue monitoring schools with C ratings\n• Implement additional training for facilities with violations\n• Maintain excellent standards in A+ rated facilities\n• Regular follow-up inspections recommended\n\nReport generated by Food Transparency Portal - Social Welfare Department\n    `;\n  };\n\n  const downloadReport = (content, filename) => {\n    const blob = new Blob([content], { type: 'text/plain' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n\n  const exportReport = (format) => {\n    const selectedReportType = reportTypes.find(r => r.id === reportType)?.name;\n    \n    let reportData = {\n      type: selectedReportType,\n      dateRange: dateRange,\n      scheme: selectedScheme,\n      generatedAt: new Date().toLocaleString(),\n      summary: {\n        totalInspections: foodInspectionReports.length,\n        averageRating: calculateAverageRating(),\n        totalViolations: getTotalViolations(),\n        complianceRate: getComplianceRate()\n      },\n      inspections: foodInspectionReports,\n      metrics: overviewData\n    };\n\n    if (format === 'pdf') {\n      generatePDFReport(reportData);\n    } else if (format === 'excel') {\n      generateExcelReport(reportData);\n    } else if (format === 'csv') {\n      generateCSVReport(reportData);\n    }\n  };\n\n  const generatePDFReport = (data) => {\n    // Create HTML content for PDF\n    const htmlContent = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <meta charset=\"utf-8\">\n        <title>Food Transparency Portal - Inspection Report</title>\n        <style>\n            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\n            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }\n            .logo { font-size: 24px; font-weight: bold; color: #2563eb; }\n            .subtitle { color: #666; margin-top: 5px; }\n            .section { margin-bottom: 30px; }\n            .section-title { font-size: 18px; font-weight: bold; color: #333; border-bottom: 1px solid #ddd; padding-bottom: 5px; }\n            .summary-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0; }\n            .summary-item { padding: 15px; background: #f8f9fa; border-radius: 5px; }\n            .summary-label { font-weight: bold; color: #666; }\n            .summary-value { font-size: 20px; font-weight: bold; color: #2563eb; }\n            .inspection { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; page-break-inside: avoid; }\n            .inspection-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n            .rating { padding: 5px 15px; border-radius: 20px; font-weight: bold; }\n            .rating-a { background: #dcfce7; color: #166534; }\n            .rating-b { background: #dbeafe; color: #1e40af; }\n            .rating-c { background: #fef3c7; color: #92400e; }\n            .findings { margin: 10px 0; }\n            .finding-item { margin: 5px 0; padding-left: 20px; }\n            .violation { color: #dc2626; }\n            .photo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 10px; }\n            .photo-item { border: 1px solid #ddd; border-radius: 5px; overflow: hidden; page-break-inside: avoid; }\n            .photo-item img { width: 100%; height: 120px; object-fit: cover; display: block; }\n            .photo-caption { padding: 8px; background: #f8f9fa; font-size: 12px; color: #666; text-align: center; }\n            .footer { margin-top: 50px; text-align: center; color: #666; font-size: 12px; }\n        </style>\n    </head>\n    <body>\n        <div class=\"header\">\n            <div class=\"logo\">🏛️ Food Transparency Portal</div>\n            <div class=\"subtitle\">Social Welfare Department - Karnataka Government</div>\n            <div style=\"margin-top: 15px;\">\n                <strong>${data.type}</strong> | ${data.dateRange} | Generated: ${data.generatedAt}\n            </div>\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">📊 Executive Summary</div>\n            <div class=\"summary-grid\">\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Total Inspections</div>\n                    <div class=\"summary-value\">${data.summary.totalInspections}</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Average Rating</div>\n                    <div class=\"summary-value\">${data.summary.averageRating}/4.0</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Total Violations</div>\n                    <div class=\"summary-value\">${data.summary.totalViolations}</div>\n                </div>\n                <div class=\"summary-item\">\n                    <div class=\"summary-label\">Compliance Rate</div>\n                    <div class=\"summary-value\">${data.summary.complianceRate}%</div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">🏫 Detailed Inspection Reports</div>\n            ${data.inspections.map((report, index) => `\n                <div class=\"inspection\">\n                    <div class=\"inspection-header\">\n                        <div>\n                            <h3>${report.location}</h3>\n                            <p>Inspector: ${report.inspector} | Date: ${report.date}</p>\n                        </div>\n                        <div class=\"rating rating-${report.rating.toLowerCase().replace('+', '')}\">\n                            Rating: ${report.rating}\n                        </div>\n                    </div>\n                    \n                    <div class=\"findings\">\n                        <strong>📋 Key Findings:</strong>\n                        ${report.findings.map(finding => `<div class=\"finding-item\">• ${finding}</div>`).join('')}\n                    </div>\n                    \n                    <div class=\"findings\">\n                        <strong>⚠️ Violations:</strong>\n                        ${report.violations.length > 0 ? \n                            report.violations.map(violation => `<div class=\"finding-item violation\">• ${violation}</div>`).join('') :\n                            '<div class=\"finding-item\">• No violations found ✅</div>'\n                        }\n                    </div>\n                    \n                    <div style=\"margin-top: 15px;\">\n                        <strong>📸 Inspection Photos (${report.photos.length}):</strong>\n                        ${report.photos.length > 0 ? `\n                            <div class=\"photo-grid\">\n                                ${report.photos.map((photo, photoIndex) => `\n                                    <div class=\"photo-item\">\n                                        <img src=\"${photo.preview || photo.url || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik04NSA2NUw5NSA3NUwxMTUgNTVMMTM1IDc1VjEwNUg2NVY3NUw4NSA2NVoiIGZpbGw9IiNEMUQ1REIiLz4KPGNpcmNsZSBjeD0iODAiIGN5PSI2MCIgcj0iNSIgZmlsbD0iI0QxRDVEQiIvPgo8L3N2Zz4K'}\" \n                                             alt=\"Inspection Photo ${photoIndex + 1}\">\n                                        <div class=\"photo-caption\">\n                                            Photo ${photoIndex + 1}: ${photo.name || `inspection_${photoIndex + 1}.jpg`}\n                                            <br><small>${photo.size ? (photo.size / 1024).toFixed(1) + ' KB' : ''}</small>\n                                        </div>\n                                    </div>\n                                `).join('')}\n                            </div>\n                        ` : '<div style=\"color: #666; font-style: italic; margin-top: 5px;\">No photos available for this inspection</div>'}\n                    </div>\n                </div>\n            `).join('')}\n        </div>\n\n        <div class=\"section\">\n            <div class=\"section-title\">💡 Recommendations</div>\n            <div class=\"finding-item\">• Continue monitoring schools with C ratings</div>\n            <div class=\"finding-item\">• Implement additional training for facilities with violations</div>\n            <div class=\"finding-item\">• Maintain excellent standards in A+ rated facilities</div>\n            <div class=\"finding-item\">• Schedule regular follow-up inspections as recommended</div>\n            <div class=\"finding-item\">• Ensure proper documentation and photo evidence for all inspections</div>\n        </div>\n\n        <div class=\"footer\">\n            Report generated by Food Transparency Portal - Social Welfare Department<br>\n            Karnataka Government | ${new Date().getFullYear()}\n        </div>\n    </body>\n    </html>\n    `;\n\n    // Convert HTML to PDF using browser's print functionality\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(htmlContent);\n    printWindow.document.close();\n    \n    // Wait for content to load then trigger print\n    setTimeout(() => {\n      printWindow.print();\n      printWindow.close();\n    }, 1000);\n\n    alert(`✅ PDF report generated successfully!\\nUse your browser's print dialog to save as PDF.\\nIncludes ${data.summary.totalInspections} food inspections with detailed findings.`);\n  };\n\n  const generateExcelReport = (data) => {\n    // Create CSV content that can be opened in Excel\n    let csvContent = \"Food Transparency Portal - Inspection Report\\\\n\\\\n\";\n    csvContent += `Report Type,${data.type}\\\\n`;\n    csvContent += `Date Range,${data.dateRange}\\\\n`;\n    csvContent += `Generated,${data.generatedAt}\\\\n\\\\n`;\n    \n    csvContent += \"SUMMARY\\\\n\";\n    csvContent += `Total Inspections,${data.summary.totalInspections}\\\\n`;\n    csvContent += `Average Rating,${data.summary.averageRating}/4.0\\\\n`;\n    csvContent += `Total Violations,${data.summary.totalViolations}\\\\n`;\n    csvContent += `Compliance Rate,${data.summary.complianceRate}%\\\\n\\\\n`;\n    \n    csvContent += \"DETAILED INSPECTIONS\\\\n\";\n    csvContent += \"Location,Date,Inspector,Rating,Findings,Violations,Photos\\\\n\";\n    \n    data.inspections.forEach(report => {\n      csvContent += `\"${report.location}\",\"${report.date}\",\"${report.inspector}\",\"${report.rating}\",\"${report.findings.join('; ')}\",\"${report.violations.join('; ') || 'None'}\",\"${report.photos.length}\"\\\\n`;\n    });\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${data.type}_${data.dateRange}_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n\n    alert(`✅ Excel report downloaded successfully!\\nFile: ${data.type}_${data.dateRange}_${new Date().toISOString().split('T')[0]}.csv`);\n  };\n\n  const generateCSVReport = (data) => {\n    let csvContent = \"Location,Date,Inspector,Rating,Findings,Violations,Photos,Photo_Names\\n\";\n    \n    data.inspections.forEach(report => {\n      const findings = report.findings.join('; ');\n      const violations = report.violations.join('; ') || 'None';\n      const photoNames = report.photos.map(photo => photo.name || 'unnamed').join('; ');\n      csvContent += `\"${report.location}\",\"${report.date}\",\"${report.inspector}\",\"${report.rating}\",\"${findings}\",\"${violations}\",\"${report.photos.length}\",\"${photoNames}\"\\n`;\n    });\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `inspection_report_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n\n  const renderPhotoGallery = () => {\n    const filteredInspections = getFilteredInspections();\n    \n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-800\">Inspection Photo Gallery</h2>\n            <p className=\"text-gray-600\">View recent inspection photos from schools</p>\n          </div>\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"w-full md:w-auto\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Filter by School</label>\n              <select\n                value={selectedSchool}\n                onChange={(e) => setSelectedSchool(e.target.value)}\n                className=\"w-full md:w-64 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {schools.map((school) => (\n                  <option key={school} value={school}>\n                    {school}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"w-full md:w-auto\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Inspection Type</label>\n              <select\n                value={selectedInspection}\n                onChange={(e) => setSelectedInspection(e.target.value)}\n                className=\"w-full md:w-64 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {inspections.map((inspection) => (\n                  <option key={inspection} value={inspection}>\n                    {inspection}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {filteredInspections.length === 0 ? (\n          <div className=\"text-center py-12 bg-white rounded-lg shadow\">\n            <p className=\"text-gray-500\">No inspection photos found matching the selected filters.</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredInspections.map((inspection) => (\n              <div key={inspection.id} className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n                <div className=\"relative h-48 bg-gray-100\">\n                  {inspection.photos.length > 0 ? (\n                    <img\n                      src={inspection.photos[0].url}\n                      alt={inspection.photos[0].caption || 'Inspection photo'}\n                      className=\"w-full h-full object-cover cursor-pointer\"\n                      onClick={() => setSelectedPhoto({ ...inspection.photos[0], school: inspection.location, date: inspection.date })}\n                    />\n                  ) : (\n                    <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                      <Image size={48} />\n                    </div>\n                  )}\n                  <div className=\"absolute bottom-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded\">\n                    {inspection.photos.length} {inspection.photos.length === 1 ? 'photo' : 'photos'}\n                  </div>\n                  <div className=\"absolute top-2 left-2 bg-white bg-opacity-90 px-2 py-1 rounded-md shadow-sm\">\n                    <span className={`font-semibold ${\n                      inspection.rating === 'A+' ? 'text-green-600' :\n                      inspection.rating === 'B+' ? 'text-blue-600' :\n                      'text-yellow-600'\n                    }`}>\n                      {inspection.rating}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"p-4\">\n                  <h3 className=\"font-semibold text-gray-800 mb-1 truncate\">{inspection.location}</h3>\n                  <p className=\"text-sm text-gray-500 mb-2\">\n                    {new Date(inspection.date).toLocaleDateString()} • {inspection.inspector}\n                  </p>\n                  <div className=\"flex flex-wrap gap-2 mt-2\">\n                    {inspection.findings.slice(0, 2).map((finding, idx) => (\n                      <span key={idx} className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full\">\n                        {finding.split(':')[0]}\n                      </span>\n                    ))}\n                    {inspection.findings.length > 2 && (\n                      <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full\">\n                        +{inspection.findings.length - 2} more\n                      </span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const PhotoModal = ({ photo, onClose, onNext, onPrev, hasNext, hasPrev }) => {\n    if (!photo) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4\">\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-white hover:text-gray-300\"\n          aria-label=\"Close\"\n        >\n          <X size={32} />\n        </button>\n        \n        {hasPrev && (\n          <button\n            onClick={onPrev}\n            className=\"absolute left-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all\"\n            aria-label=\"Previous photo\"\n          >\n            <ChevronLeft size={32} />\n          </button>\n        )}\n        \n        <div className=\"relative max-w-4xl w-full\">\n          <img\n            src={photo.url}\n            alt={photo.caption || 'Inspection photo'}\n            className=\"max-h-[80vh] w-auto mx-auto object-contain\"\n          />\n          <div className=\"mt-4 text-white text-center\">\n            <h3 className=\"text-xl font-semibold mb-1\">{photo.school}</h3>\n            <p className=\"text-gray-300\">{photo.caption}</p>\n            <p className=\"text-sm text-gray-400 mt-2\">{new Date(photo.date).toLocaleDateString()}</p>\n          </div>\n        </div>\n        \n        {hasNext && (\n          <button\n            onClick={onNext}\n            className=\"absolute right-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all\"\n            aria-label=\"Next photo\"\n          >\n            <ChevronRight size={32} />\n          </button>\n        )}\n      </div>\n    );\n  };\n\n  const overviewData = {\n    totalBeneficiaries: 12847,\n    totalSchemes: 24,\n    totalBudget: 25000000,\n    utilizedBudget: 21500000,\n    completedAudits: 156,\n    pendingAudits: 23\n  };\n\n  const schemePerformance = [\n    { name: 'Pre-Matric Scholarship', beneficiaries: 4250, budget: 5000000, utilization: 84, completion: 78 },\n    { name: 'Post-Matric Scholarship', beneficiaries: 3200, budget: 8000000, utilization: 89, completion: 89 },\n    { name: 'Skill Development', beneficiaries: 1800, budget: 3500000, utilization: 80, completion: 92 },\n    { name: 'Self Employment', beneficiaries: 950, budget: 6000000, utilization: 75, completion: 86 }\n  ];\n\n  const monthlyTrends = [\n    { month: 'Jan', beneficiaries: 1200, budget: 2100000, audits: 12 },\n    { month: 'Feb', beneficiaries: 1350, budget: 2300000, audits: 15 },\n    { month: 'Mar', beneficiaries: 1180, budget: 2000000, audits: 11 },\n    { month: 'Apr', beneficiaries: 1420, budget: 2500000, audits: 18 },\n    { month: 'May', beneficiaries: 1380, budget: 2400000, audits: 16 },\n    { month: 'Jun', beneficiaries: 1500, budget: 2600000, audits: 20 }\n  ];\n\n  const auditFindings = [\n    { type: 'Compliance Issues', count: 8, severity: 'medium' },\n    { type: 'Documentation Gaps', count: 15, severity: 'low' },\n    { type: 'Financial Irregularities', count: 3, severity: 'high' },\n    { type: 'Process Improvements', count: 22, severity: 'low' }\n  ];\n\n  return (\n    <div className=\"p-6 bg-gray-50 min-h-screen\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Reports & Analytics</h1>\n        <p className=\"text-gray-600\">Generate comprehensive reports and analyze scheme performance</p>\n      </div>\n\n      {/* Report type tabs */}\n      <div className=\"bg-white rounded-lg shadow p-4 mb-6\">\n        <div className=\"flex flex-wrap gap-2\">\n          {reportTypes.map((type) => (\n            <button\n              key={type.id}\n              onClick={() => setReportType(type.id)}\n              className={`flex items-center px-4 py-2 rounded-md transition-colors ${\n                reportType === type.id\n                  ? 'bg-blue-100 text-blue-700 font-medium'\n                  : 'text-gray-600 hover:bg-gray-100'\n              }`}\n            >\n              <type.icon className=\"w-5 h-5 mr-2\" />\n              {type.name}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Main Content Area */}\n      <div className=\"space-y-6\">\n        {reportType === 'overview' && (\n          <div>\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Category Distribution</h3>\n              <div className=\"space-y-4\">\n                {categoryDistribution.map((category) => (\n                  <div key={category.category} className=\"space-y-2\">\n                    <div className=\"flex justify-between text-sm\">\n                      <span className=\"font-medium text-gray-700\">{category.category}</span>\n                      <span className=\"text-sm font-medium text-gray-900\">{category.percentage}%</span>\n                    </div>\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                      <div \n                        className=\"bg-blue-600 h-2.5 rounded-full\" \n                        style={{ width: `${category.percentage}%` }}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Recent Inspections */}\n            <div className=\"bg-white rounded-lg shadow-md p-6 mt-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Recent Inspections</h3>\n              <div className=\"space-y-4\">\n                {foodInspectionReports.map((report) => (\n                  <div key={report.id} className=\"border-b pb-4 last:border-0 last:pb-0\">\n                    <div className=\"flex justify-between items-center\">\n                      <h4 className=\"font-medium text-gray-900\">{report.location}</h4>\n                      <span className={`px-2 py-1 text-xs rounded-full ${\n                        report.rating === 'A+' ? 'bg-green-100 text-green-800' :\n                        report.rating === 'B+' ? 'bg-blue-100 text-blue-800' :\n                        'bg-yellow-100 text-yellow-800'\n                      }`}>\n                        {report.rating}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-gray-600\">\n                      {new Date(report.date).toLocaleDateString()} • {report.inspector}\n                    </p>\n                    {report.photos.length > 0 && (\n                      <div className=\"mt-2 flex space-x-2 overflow-x-auto pb-2\">\n                        {report.photos.slice(0, 3).map((photo, idx) => (\n                          <div key={idx} className=\"flex-shrink-0 w-20 h-20 bg-gray-100 rounded overflow-hidden\">\n                            <img \n                              src={photo.url} \n                              alt={photo.caption} \n                              className=\"w-full h-full object-cover\"\n                              onClick={() => setSelectedPhoto({ ...photo, school: report.location, date: report.date })}\n                            />\n                          </div>\n                        ))}\n                        {report.photos.length > 3 && (\n                          <div className=\"flex-shrink-0 w-20 h-20 bg-gray-100 rounded flex items-center justify-center text-gray-500 text-sm\">\n                            +{report.photos.length - 3} more\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {reportType === 'gallery' && renderPhotoGallery()}\n\n        {reportType === 'financial' && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Financial Reports</h3>\n            <p className=\"text-gray-600\">Financial reports will be displayed here.</p>\n          </div>\n        )}\n\n        {reportType === 'beneficiary' && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Beneficiary Reports</h3>\n            <p className=\"text-gray-600\">Beneficiary reports will be displayed here.</p>\n          </div>\n        )}\n\n        {reportType === 'audit' && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Audit Reports</h3>\n            <p className=\"text-gray-600\">Audit reports will be displayed here.</p>\n          </div>\n        )}\n      </div>\n\n      {/* Photo Modal */}\n      {selectedPhoto && (\n        <PhotoModal\n          photo={selectedPhoto}\n          onClose={() => setSelectedPhoto(null)}\n          onNext={() => {\n            // Find the next photo in the current inspection\n            const currentInspection = foodInspectionReports.find(\n              (inspection) => inspection.location === selectedPhoto.school\n            );\n            if (currentInspection) {\n              const currentIndex = currentInspection.photos.findIndex(\n                (p) => p.caption === selectedPhoto.caption\n              );\n              if (currentIndex < currentInspection.photos.length - 1) {\n                setSelectedPhoto({\n                  ...currentInspection.photos[currentIndex + 1],\n                  school: currentInspection.location,\n                  date: currentInspection.date\n                });\n              }\n            }\n          }}\n          onPrev={() => {\n            // Find the previous photo in the current inspection\n            const currentInspection = foodInspectionReports.find(\n              (inspection) => inspection.location === selectedPhoto.school\n            );\n            if (currentInspection) {\n              const currentIndex = currentInspection.photos.findIndex(\n                (p) => p.caption === selectedPhoto.caption\n              );\n              if (currentIndex > 0) {\n                setSelectedPhoto({\n                  ...currentInspection.photos[currentIndex - 1],\n                  school: currentInspection.location,\n                  date: currentInspection.date\n                });\n              }\n            }\n          }}\n          hasNext={true}\n          hasPrev={true}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Reports;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}